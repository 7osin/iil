(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function TE(){if(qp)return Dl;qp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var jp;function AE(){return jp||(jp=1,df.exports=TE()),df.exports}var tt=AE(),mf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function SE(){if(Hp)return Tt;Hp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function $(D,X,nt){this.props=D,this.context=X,this.refs=it,this.updater=nt||j}$.prototype.isReactComponent={},$.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function At(){}At.prototype=$.prototype;function at(D,X,nt){this.props=D,this.context=X,this.refs=it,this.updater=nt||j}var ct=at.prototype=new At;ct.constructor=at,Z(ct,$.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function N(D,X,nt,J,ht,Rt){return nt=Rt.ref,{$$typeof:s,type:D,key:X,ref:nt!==void 0?nt:null,props:Rt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function O(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):X.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,X,nt,J,ht){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case s:case e:yt=!0;break;case A:return yt=D._init,ie(yt(D._payload),X,nt,J,ht)}}if(yt)return ht=ht(D),yt=J===""?"."+U(D,0):J,Vt(ht)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),ie(ht,X,nt,"",function(Mn){return Mn})):ht!=null&&(w(ht)&&(ht=S(ht,nt+(ht.key==null||D&&D.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+yt)),X.push(ht)),1;yt=0;var Re=J===""?".":J+":";if(Vt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],Rt=Re+U(J,Zt),yt+=ie(J,X,nt,Rt,ht);else if(Zt=C(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,Rt=Re+U(J,Zt++),yt+=ie(J,X,nt,Rt,ht);else if(Rt==="object"){if(typeof D.then=="function")return ie(Ne(D),X,nt,J,ht);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,X,nt){if(D==null)return D;var J=[],ht=0;return ie(D,J,"","",function(Rt){return X.call(nt,Rt,ht++)}),J}function et(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return Tt.Children={map:H,forEach:function(D,X,nt){H(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Tt.Component=$,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=at,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Et.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=Z({},D.props),ht=D.key,Rt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ht=""+X.key),X)!zt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(J[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)J.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return N(D.type,ht,void 0,void 0,Rt,J)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Tt.createElement=function(D,X,nt){var J,ht={},Rt=null;if(X!=null)for(J in X.key!==void 0&&(Rt=""+X.key),X)zt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=X[J]);var yt=arguments.length-2;if(yt===1)ht.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ht.children=Re}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)ht[J]===void 0&&(ht[J]=yt[J]);return N(D,Rt,void 0,void 0,null,ht)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:g,render:D}},Tt.isValidElement=w,Tt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Tt.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},Tt.startTransition=function(D){var X=Et.T,nt={};Et.T=nt;try{var J=D(),ht=Et.S;ht!==null&&ht(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Bt,ot)}catch(Rt){ot(Rt)}finally{Et.T=X}},Tt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Tt.use=function(D){return Et.H.use(D)},Tt.useActionState=function(D,X,nt){return Et.H.useActionState(D,X,nt)},Tt.useCallback=function(D,X){return Et.H.useCallback(D,X)},Tt.useContext=function(D){return Et.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,X){return Et.H.useDeferredValue(D,X)},Tt.useEffect=function(D,X,nt){var J=Et.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,X)},Tt.useId=function(){return Et.H.useId()},Tt.useImperativeHandle=function(D,X,nt){return Et.H.useImperativeHandle(D,X,nt)},Tt.useInsertionEffect=function(D,X){return Et.H.useInsertionEffect(D,X)},Tt.useLayoutEffect=function(D,X){return Et.H.useLayoutEffect(D,X)},Tt.useMemo=function(D,X){return Et.H.useMemo(D,X)},Tt.useOptimistic=function(D,X){return Et.H.useOptimistic(D,X)},Tt.useReducer=function(D,X,nt){return Et.H.useReducer(D,X,nt)},Tt.useRef=function(D){return Et.H.useRef(D)},Tt.useState=function(D){return Et.H.useState(D)},Tt.useSyncExternalStore=function(D,X,nt){return Et.H.useSyncExternalStore(D,X,nt)},Tt.useTransition=function(){return Et.H.useTransition()},Tt.version="19.1.0",Tt}var Gp;function Zf(){return Gp||(Gp=1,mf.exports=SE()),mf.exports}var pe=Zf(),gf={exports:{}},Vl={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function bE(){return Qp||(Qp=1,function(s){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Bt=ot-1>>>1,D=H[Bt];if(0<u(D,et))H[Bt]=et,H[ot]=D,ot=Bt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Bt=0,D=H.length,X=D>>>1;Bt<X;){var nt=2*(Bt+1)-1,J=H[nt],ht=nt+1,Rt=H[ht];if(0>u(J,ot))ht<D&&0>u(Rt,J)?(H[Bt]=Rt,H[ht]=ot,Bt=ht):(H[Bt]=J,H[nt]=ot,Bt=nt);else if(ht<D&&0>u(Rt,ot))H[Bt]=Rt,H[ht]=ot,Bt=ht;else break t}}return et}function u(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,I=null,C=3,j=!1,Z=!1,it=!1,$=!1,At=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Et(H){if(it=!1,Vt(H),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,U());else{var et=i(_);et!==null&&ie(Et,et.startTime-H)}}var zt=!1,N=-1,S=5,w=-1;function O(){return $?!0:!(s.unstable_now()-w<S)}function M(){if($=!1,zt){var H=s.unstable_now();w=H;var et=!0;try{t:{Z=!1,it&&(it=!1,at(N),N=-1),j=!0;var ot=C;try{e:{for(Vt(H),I=i(v);I!==null&&!(I.expirationTime>H&&O());){var Bt=I.callback;if(typeof Bt=="function"){I.callback=null,C=I.priorityLevel;var D=Bt(I.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){I.callback=D,Vt(H),et=!0;break e}I===i(v)&&a(v),Vt(H)}else a(v);I=i(v)}if(I!==null)et=!0;else{var X=i(_);X!==null&&ie(Et,X.startTime-H),et=!1}}break t}finally{I=null,C=ot,j=!1}et=void 0}}finally{et?U():zt=!1}}}var U;if(typeof ct=="function")U=function(){ct(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=M,U=function(){Ne.postMessage(null)}}else U=function(){At(M,0)};function ie(H,et){N=At(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(H){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ot=C;C=et;try{return H()}finally{C=ot}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=C;C=H;try{return et()}finally{C=ot}},s.unstable_scheduleCallback=function(H,et,ot){var Bt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Bt+ot:Bt):ot=Bt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>Bt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(it?(at(N),N=-1):it=!0,ie(Et,ot-Bt))):(H.sortIndex=D,e(v,H),Z||j||(Z=!0,zt||(zt=!0,U()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var et=C;return function(){var ot=C;C=et;try{return H.apply(this,arguments)}finally{C=ot}}}}(yf)),yf}var Yp;function RE(){return Yp||(Yp=1,pf.exports=bE()),pf.exports}var _f={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function wE(){if(Fp)return He;Fp=1;var s=Zf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:j}):A==="script"&&a.d.X(v,{crossOrigin:I,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},He.requestFormReset=function(v){a.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var Xp;function CE(){if(Xp)return _f.exports;Xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=wE(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function DE(){if(Kp)return Vl;Kp=1;var s=RE(),e=Zf(),i=CE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case it:return"StrictMode";case Et:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case Vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function X(t){return{current:t}}function nt(t){0>D||(t.current=Bt[D],Bt[D]=null,D--)}function J(t,n){D++,Bt[D]=t.current,t.current=n}var ht=X(null),Rt=X(null),yt=X(null),Re=X(null);function Zt(t,n){switch(J(yt,n),J(Rt,t),J(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=gp(n),t=pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ht),J(ht,t)}function Mn(){nt(ht),nt(Rt),nt(yt)}function Ni(t){t.memoizedState!==null&&J(Re,t);var n=ht.current,r=pp(n,t.type);n!==r&&(J(Rt,t),J(ht,r))}function ni(t){Rt.current===t&&(nt(ht),nt(Rt)),Re.current===t&&(nt(Re),Sl._currentValue=ot)}var _r=Object.prototype.hasOwnProperty,vr=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,Es=s.unstable_shouldYield,Wl=s.unstable_requestPaint,hn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,Ts=s.unstable_ImmediatePriority,ca=s.unstable_UserBlockingPriority,Tr=s.unstable_NormalPriority,dc=s.unstable_LowPriority,ha=s.unstable_IdlePriority,As=s.log,tu=s.unstable_setDisableYieldValue,re=null,jt=null;function en(t){if(typeof As=="function"&&tu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var qe=Math.clz32?Math.clz32:Ar,eu=Math.log,mc=Math.LN2;function Ar(t){return t>>>=0,t===0?32:31-(eu(t)/mc|0)|0}var Sr=256,br=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ss(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bs(){var t=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),t}function Rs(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ws(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-qe(r),Y=1<<G;E[G]=0,b[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var k=P[G];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Cs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Up(t.type))}function nu(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,he="__reactProps$"+Jt,fn="__reactContainer$"+Jt,Ds="__reactEvents$"+Jt,gc="__reactListeners$"+Jt,Ui="__reactHandles$"+Jt,iu="__reactResources$"+Jt,wr="__reactMarker$"+Jt;function Li(t){delete t[_e],delete t[he],delete t[Ds],delete t[gc],delete t[Ui]}function ai(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ep(t);t!==null;){if(r=t[_e])return r;t=Ep(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[_e]||t[fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fe(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[wr]=!0}var Vs=new Set,ma={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(ma[t]=n,t=0;t<n.length;t++)Vs.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Cr={};function su(t){return _r.call(Cr,t)?!0:_r.call(au,t)?!1:ru.test(t)?Cr[t]=!0:(au[t]=!0,!1)}function zi(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,lu;function li(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+lu}var ga=!1;function pa(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var P=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){P=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){P=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?li(r):""}function Is(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return li("Activity");default:return""}}function ya(t){try{var n="";do n+=Is(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Os(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _a(t){t._valueTracker||(t._valueTracker=pc(t))}function Ns(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Os(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function fe(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Bi(t,y,Xe(n)):r!=null?Bi(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Bi(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Nr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ms(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function Us(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));nn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ns(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Bn=!1;function ou(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(no(),ci&&(n=ci,t=hi,hi=ci=null,Us(n),t)))for(n=0;n<t.length;n++)Us(t[n])}}function Mr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){gn=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{gn=!1}var Pn=null,Pi=null,fi=null;function Ls(){if(fi)return fi;var t,n=Pi,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function zs(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:zs,this.isPropagationStopped=zs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=we(kt),Ur=A({},kt,{view:0,detail:0}),cu=we(Ur),Ta,Aa,jn,Lr=A({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Ta=t.screenX-jn.screenX,Aa=t.screenY-jn.screenY):Aa=Ta=0,jn=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),pn=we(Lr),hu=A({},Lr,{dataTransfer:0}),Ec=we(hu),zr=A({},Ur,{relatedTarget:0}),Sa=we(zr),Bs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=we(Bs),fu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=we(fu),Tc=A({},kt,{data:0}),Ps=we(Tc),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function Pr(){return ks}var gu=A({},Ur,{key:function(t){if(t.key){var n=Br[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=we(gu),pu=A({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=we(pu),di=A({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),yu=we(di),_u=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=we(_u),Eu=A({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=we(Eu),Ke=A({},kt,{newState:0,oldState:0}),Tu=we(Ke),Au=[9,13,27,32],Hn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Hn||o&&8<o&&11>=o),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(Ot)return t==="compositionend"||!Hn&&q(t,n)?(t=Ls(),fi=Pi=Pn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function mi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=uo(n,"onChange"),0<n.length&&(r=new Ea("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Gn=null;function js(t){cp(t,0)}function Su(t){var n=Ln(t);if(Ns(n))return t}function Od(t,n){if(t==="change")return n}var Nd=!1;if(Dn){var Ac;if(Dn){var Sc="oninput"in document;if(!Sc){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Sc=typeof Md.oninput=="function"}Ac=Sc}else Ac=!1;Nd=Ac&&(!document.documentMode||9<document.documentMode)}function xd(){xe&&(xe.detachEvent("onpropertychange",Ud),Gn=xe=null)}function Ud(t){if(t.propertyName==="value"&&Su(Gn)){var n=[];mi(n,Gn,t,mn(t)),ou(js,n)}}function $v(t,n,r){t==="focusin"?(xd(),xe=n,Gn=r,xe.attachEvent("onpropertychange",Ud)):t==="focusout"&&xd()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Gn)}function Wv(t,n){if(t==="click")return Su(n)}function t0(t,n){if(t==="input"||t==="change")return Su(n)}function e0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:e0;function Hs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_r.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zd(t,n){var r=Ld(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ld(r)}}function Bd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var n0=Dn&&"documentMode"in document&&11>=document.documentMode,Da=null,Rc=null,Gs=null,wc=!1;function kd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Da==null||Da!==Vr(l)||(l=Da,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gs&&Hs(Gs,l)||(Gs=l,l=uo(Rc,"onSelect"),0<l.length&&(n=new Ea("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Cc={},qd={};Dn&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function qr(t){if(Cc[t])return Cc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in qd)return Cc[t]=n[r];return t}var jd=qr("animationend"),Hd=qr("animationiteration"),Gd=qr("animationstart"),i0=qr("transitionrun"),r0=qr("transitionstart"),a0=qr("transitioncancel"),Qd=qr("transitionend"),Yd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Vn(t,n){Yd.set(t,n),Cn(n,[t])}var Fd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Fd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ya(n)},Fd.set(t,n),n)}return{value:t,source:n,stack:ya(n)}}var _n=[],Ia=0,Vc=0;function bu(){for(var t=Ia,n=Vc=Ia=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Xd(r,c,f)}}function Ru(t,n,r,l){_n[Ia++]=t,_n[Ia++]=n,_n[Ia++]=r,_n[Ia++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Oa(t,n){return Ru(t,null,null,n),wu(t)}function Xd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<gl)throw gl=0,Lh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function s0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new s0(t,n,r,l)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Oc(t)&&(y=1);else if(typeof t=="string")y=uE(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return jr(r.children,c,f,n);case it:y=8,c|=24;break;case $:return t=an(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case Et:return t=an(13,r,n,c),t.elementType=Et,t.lanes=f,t;case zt:return t=an(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ct:y=10;break t;case at:y=9;break t;case Vt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function jr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function Nc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Mc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ma=[],xa=0,Du=null,Vu=0,vn=[],En=0,Hr=null,pi=1,yi="";function Gr(t,n){Ma[xa++]=Vu,Ma[xa++]=Du,Du=t,Vu=n}function Zd(t,n,r){vn[En++]=pi,vn[En++]=yi,vn[En++]=Hr,Hr=t;var l=pi;t=yi;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-qe(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function xc(t){t.return!==null&&(Gr(t,1),Zd(t,1,0))}function Uc(t){for(;t===Du;)Du=Ma[--xa],Ma[xa]=null,Vu=Ma[--xa],Ma[xa]=null;for(;t===Hr;)Hr=vn[--En],vn[En]=null,yi=vn[--En],vn[En]=null,pi=vn[--En],vn[En]=null}var Ze=null,ae=null,Pt=!1,Qr=null,Qn=!1,Lc=Error(a(519));function Yr(t){var n=Error(a(418,""));throw Fs(yn(n,t)),Lc}function $d(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<yl.length;r++)Dt(yl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Or(n,l.value,l.defaultValue,l.children),_a(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||mp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Yr(t)}function Jd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Ze=Ze.return}}function Qs(t){if(t!==Ze)return!1;if(!Pt)return Jd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&ae&&Yr(t),Jd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,er(t.type)?(t=nf,nf=null,ae=t):ae=n):ae=Ze?On(t.stateNode.nextSibling):null;return!0}function Ys(){ae=Ze=null,Pt=!1}function Wd(){var t=Qr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Qr=null),t}function Fs(t){Qr===null?Qr=[t]:Qr.push(t)}var zc=X(null),Fr=null,_i=null;function ki(t,n,r){J(zc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=zc.current,nt(zc)}function Bc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Pc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Bc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Xs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&Pc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Fr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return tm(Fr,t)}function Ou(t,n){return Fr===null&&Xr(t),tm(t,n)}function tm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var l0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},u0=s.unstable_scheduleCallback,o0=s.unstable_NormalPriority,Te={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new l0,data:new Map,refCount:0}}function Ks(t){t.refCount--,t.refCount===0&&u0(o0,function(){t.controller.abort()})}var Zs=null,qc=0,Ua=0,La=null;function c0(t,n){if(Zs===null){var r=Zs=[];qc=0,Ua=Hh(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return qc++,n.then(em,em),n}function em(){if(--qc===0&&Zs!==null){La!==null&&(La.status="fulfilled");var t=Zs;Zs=null,Ua=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function h0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var nm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&c0(t,n),nm!==null&&nm(t,n)};var Kr=X(null);function jc(){var t=Kr.current;return t!==null?t:$t.pooledCache}function Nu(t,n){n===null?J(Kr,Kr.current):J(Kr,n.pool)}function im(){var t=jc();return t===null?null:{parent:Te._currentValue,pool:t}}var $s=Error(a(460)),rm=Error(a(474)),Mu=Error(a(542)),Hc={then:function(){}};function am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,um(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,um(t),t}throw Js=n,$s}}var Js=null;function lm(){if(Js===null)throw Error(a(459));var t=Js;return Js=null,t}function um(t){if(t===$s||t===Mu)throw Error(a(483))}var qi=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Xd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function Ws(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cs(t,r)}}function Yc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fc=!1;function tl(){if(Fc){var t=La;if(t!==null)throw t}}function el(t,n,r,l){Fc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=B=b=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Mt&P)===P:(l&P)===P){P!==0&&P===Ua&&(Fc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,dt=E;P=n;var Xt=r;switch(dt.tag){case 1:if(pt=dt.payload,typeof pt=="function"){Y=pt.call(Xt,Y,P);break t}Y=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=dt.payload,P=typeof pt=="function"?pt.call(Xt,Y,P):pt,P==null)break t;Y=A({},Y,P);break t;case 2:qi=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,b=Y):G=G.next=k,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),$i|=y,t.lanes=y,t.memoizedState=Y}}function om(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)om(r[t],n)}var za=X(null),Uu=X(0);function hm(t,n){t=wi,J(Uu,t),J(za,n),wi=t|n.baseLanes}function Xc(){J(Uu,wi),J(za,za.current)}function Kc(){wi=Uu.current,nt(za),nt(Uu)}var Gi=0,St=null,Yt=null,de=null,Lu=!1,Ba=!1,Zr=!1,zu=0,nl=0,Pa=null,f0=0;function ue(){throw Error(a(321))}function Zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function $c(t,n,r,l,c,f){return Gi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Xm:Km,Zr=!1,f=r(l,c),Zr=!1,Ba&&(f=dm(n,r,l,c)),fm(t),f}function fm(t){H.H=Hu;var n=Yt!==null&&Yt.next!==null;if(Gi=0,de=Yt=St=null,Lu=!1,nl=0,Pa=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Iu(t)&&(De=!0))}function dm(t,n,r,l){St=t;var c=0;do{if(Ba&&(Pa=null),nl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=v0,f=n(r,l)}while(Ba);return f}function d0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function Jc(){var t=zu!==0;return zu=0,t}function Wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function th(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}Gi=0,de=Yt=St=null,Ba=!1,nl=zu=0,Pa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),t=sm(Pa,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Xm:Km),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ct)return je(t)}throw Error(a(438,String(t)))}function nh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=eh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=me();return ih(n,Yt,t)}function ih(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Mt&Y)===Y:(Gi&Y)===Y){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ua&&(G=!0);else if((Gi&P)===P){B=B.next,P===Ua&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,St.lanes|=P,$i|=P;Y=B.action,Zr&&r(f,Y),f=B.hasEagerState?B.eagerState:r(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,St.lanes|=Y,$i|=Y;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(De=!0,G&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function mm(t,n,r){var l=St,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!rn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=ym.bind(null,l,c,t);if(rl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ka(9,ku(),pm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Gi&124)!==0||gm(l,n,r)}return r}function gm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=eh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pm(t,n,r,l){n.value=r,n.getSnapshot=l,_m(n)&&vm(t)}function ym(t,n,r){return r(function(){_m(n)&&vm(t)})}function _m(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function vm(t){var n=Oa(t,2);n!==null&&cn(n,t,2)}function ah(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Zr){en(!0);try{r()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Em(t,n,r,l){return t.baseState=r,ih(t,Yt,typeof l=="function"?l:Ei)}function m0(t,n,r,l,c){if(ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Tm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Tm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Am(t,n,E)}catch(B){sh(t,n,B)}finally{H.T=f}}else try{f=r(c,l),Am(t,n,f)}catch(B){sh(t,n,B)}}function Am(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sm(t,n,l)},function(l){return sh(t,n,l)}):Sm(t,n,r)}function Sm(t,n,r){n.status="fulfilled",n.value=r,bm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tm(t,r)))}function sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bm(n),n=n.next;while(n!==l)}t.action=null}function bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rm(t,n){return n}function wm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=St;if(Pt){if(ae){e:{for(var c=ae,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=On(c.nextSibling),l=c.data==="F!";break t}}Yr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:n},r.queue=l,r=Qm.bind(null,St,l),l.dispatch=r,l=ah(!1),f=hh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=m0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cm(t){var n=me();return Dm(n,Yt,t)}function Dm(t,n,r){if(n=ih(t,n,Rm)[0],t=Pu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=il(n)}catch(y){throw y===$s?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ka(9,ku(),g0.bind(null,c,r),null)),[l,f,t]}function g0(t,n){t.action=n}function Vm(t){var n=me(),r=Yt;if(r!==null)return Dm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=eh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function Im(){return me().memoizedState}function qu(t,n,r,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=ka(1|n,ku(),r,l)}function rl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Zc(l,Yt.memoizedState.deps)?c.memoizedState=ka(n,f,r,l):(St.flags|=t,c.memoizedState=ka(1|n,f,r,l))}function Om(t,n){qu(8390656,8,t,n)}function Nm(t,n){rl(2048,8,t,n)}function Mm(t,n){return rl(4,2,t,n)}function xm(t,n){return rl(4,4,t,n)}function Um(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lm(t,n,r){r=r!=null?r.concat([t]):null,rl(4,4,Um.bind(null,n,t),r)}function lh(){}function zm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),Zr){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l}function uh(t,n,r){return r===void 0||(Gi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=qg(),St.lanes|=t,$i|=t,r)}function Pm(t,n,r,l){return rn(r,n)?r:za.current!==null?(t=uh(t,r,l),rn(t,n)||(De=!0),t):(Gi&42)===0?(De=!0,t.memoizedState=r):(t=qg(),St.lanes|=t,$i|=t,n)}function km(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,hh(t,!1,n,r);try{var b=c(),B=H.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=h0(b,l);al(t,n,G,on(t))}else al(t,n,l,on(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{et.p=f,H.T=y}}function p0(){}function oh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=qm(t).queue;km(t,c,n,ot,r===null?p0:function(){return jm(t),r(l)})}function qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jm(t){var n=qm(t).next.queue;al(t,n,{},on())}function ch(){return je(Sl)}function Hm(){return me().memoizedState}function Gm(){return me().memoizedState}function y0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=ji(r);var l=Hi(n,t,r);l!==null&&(cn(l,n,r),Ws(l,n,r)),n={cache:kc()},t.payload=n;return}n=n.return}}function _0(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ju(t)?Ym(n,r):(r=Ic(t,n,r,l),r!==null&&(cn(r,t,l),Fm(r,n,l)))}function Qm(t,n,r){var l=on();al(t,n,r,l)}function al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Ym(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return cn(r,t,l),Fm(r,n,l),!0}return!1}function hh(t,n,r,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&cn(n,t,2)}function ju(t){var n=t.alternate;return t===St||n!==null&&n===St}function Ym(t,n){Ba=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cs(t,r)}}var Hu={readContext:je,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Xm={readContext:je,use:Bu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Om,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qu(4194308,4,Um.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Zr){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Zr){en(!0);try{r(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=ah(t);var n=t.queue,r=Qm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,n){var r=$e();return uh(r,t,n)},useTransition:function(){var t=ah(!1);return t=km.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Mt&124)!==0||gm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Om(ym.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,ku(),pm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=yi,l=pi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=f0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:wm,useActionState:wm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return $e().memoizedState=y0.bind(null,St)}},Km={readContext:je,use:Bu,useCallback:zm,useContext:je,useEffect:Nm,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Bm,useReducer:Pu,useRef:Im,useState:function(){return Pu(Ei)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return Pm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Pu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:mm,useId:Hm,useHostTransitionStatus:ch,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var r=me();return Em(r,Yt,t,n)},useMemoCache:nh,useCacheRefresh:Gm},v0={readContext:je,use:Bu,useCallback:zm,useContext:je,useEffect:Nm,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Bm,useReducer:rh,useRef:Im,useState:function(){return rh(Ei)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return Yt===null?uh(r,t,n):Pm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=rh(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:mm,useId:Hm,useHostTransitionStatus:ch,useFormState:Vm,useActionState:Vm,useOptimistic:function(t,n){var r=me();return Yt!==null?Em(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:Gm},qa=null,sl=0;function Gu(t){var n=sl;return sl+=1,qa===null&&(qa=[]),sm(qa,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){var n=t._init;return n(t._payload)}function $m(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=gi(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,Q){return V===null||V.tag!==6?(V=Nc(z,x.mode,Q),V.return=x,V):(V=c(V,z),V.return=x,V)}function b(x,V,z,Q){var st=z.type;return st===Z?G(x,V,z.props.children,Q,z.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Zm(st)===V.type)?(V=c(V,z.props),ll(V,z),V.return=x,V):(V=Cu(z.type,z.key,z.props,null,x.mode,Q),ll(V,z),V.return=x,V)}function B(x,V,z,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Mc(z,x.mode,Q),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function G(x,V,z,Q,st){return V===null||V.tag!==7?(V=jr(z,x.mode,Q,st),V.return=x,V):(V=c(V,z),V.return=x,V)}function Y(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Nc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return z=Cu(V.type,V.key,V.props,null,x.mode,z),ll(z,V),z.return=x,z;case j:return V=Mc(V,x.mode,z),V.return=x,V;case S:var Q=V._init;return V=Q(V._payload),Y(x,V,z)}if(ie(V)||U(V))return V=jr(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return Y(x,Gu(V),z);if(V.$$typeof===ct)return Y(x,Ou(x,V),z);Qu(x,V)}return null}function P(x,V,z,Q){var st=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(x,V,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===st?b(x,V,z,Q):null;case j:return z.key===st?B(x,V,z,Q):null;case S:return st=z._init,z=st(z._payload),P(x,V,z,Q)}if(ie(z)||U(z))return st!==null?null:G(x,V,z,Q,null);if(typeof z.then=="function")return P(x,V,Gu(z),Q);if(z.$$typeof===ct)return P(x,V,Ou(x,z),Q);Qu(x,z)}return null}function k(x,V,z,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(z)||null,E(V,x,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return x=x.get(Q.key===null?z:Q.key)||null,b(V,x,Q,st);case j:return x=x.get(Q.key===null?z:Q.key)||null,B(V,x,Q,st);case S:var wt=Q._init;return Q=wt(Q._payload),k(x,V,z,Q,st)}if(ie(Q)||U(Q))return x=x.get(z)||null,G(V,x,Q,st,null);if(typeof Q.then=="function")return k(x,V,z,Gu(Q),st);if(Q.$$typeof===ct)return k(x,V,z,Ou(V,Q),st);Qu(V,Q)}return null}function pt(x,V,z,Q){for(var st=null,wt=null,lt=V,mt=V=0,Ie=null;lt!==null&&mt<z.length;mt++){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var Lt=P(x,lt,z[mt],Q);if(Lt===null){lt===null&&(lt=Ie);break}t&&lt&&Lt.alternate===null&&n(x,lt),V=f(Lt,V,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt,lt=Ie}if(mt===z.length)return r(x,lt),Pt&&Gr(x,mt),st;if(lt===null){for(;mt<z.length;mt++)lt=Y(x,z[mt],Q),lt!==null&&(V=f(lt,V,mt),wt===null?st=lt:wt.sibling=lt,wt=lt);return Pt&&Gr(x,mt),st}for(lt=l(lt);mt<z.length;mt++)Ie=k(lt,x,mt,z[mt],Q),Ie!==null&&(t&&Ie.alternate!==null&&lt.delete(Ie.key===null?mt:Ie.key),V=f(Ie,V,mt),wt===null?st=Ie:wt.sibling=Ie,wt=Ie);return t&&lt.forEach(function(sr){return n(x,sr)}),Pt&&Gr(x,mt),st}function dt(x,V,z,Q){if(z==null)throw Error(a(151));for(var st=null,wt=null,lt=V,mt=V=0,Ie=null,Lt=z.next();lt!==null&&!Lt.done;mt++,Lt=z.next()){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var sr=P(x,lt,Lt.value,Q);if(sr===null){lt===null&&(lt=Ie);break}t&&lt&&sr.alternate===null&&n(x,lt),V=f(sr,V,mt),wt===null?st=sr:wt.sibling=sr,wt=sr,lt=Ie}if(Lt.done)return r(x,lt),Pt&&Gr(x,mt),st;if(lt===null){for(;!Lt.done;mt++,Lt=z.next())Lt=Y(x,Lt.value,Q),Lt!==null&&(V=f(Lt,V,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return Pt&&Gr(x,mt),st}for(lt=l(lt);!Lt.done;mt++,Lt=z.next())Lt=k(lt,x,mt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),V=f(Lt,V,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return t&&lt.forEach(function(EE){return n(x,EE)}),Pt&&Gr(x,mt),st}function Xt(x,V,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:t:{for(var st=z.key;V!==null;){if(V.key===st){if(st=z.type,st===Z){if(V.tag===7){r(x,V.sibling),Q=c(V,z.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Zm(st)===V.type){r(x,V.sibling),Q=c(V,z.props),ll(Q,z),Q.return=x,x=Q;break t}r(x,V);break}else n(x,V);V=V.sibling}z.type===Z?(Q=jr(z.props.children,x.mode,Q,z.key),Q.return=x,x=Q):(Q=Cu(z.type,z.key,z.props,null,x.mode,Q),ll(Q,z),Q.return=x,x=Q)}return y(x);case j:t:{for(st=z.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(x,V.sibling),Q=c(V,z.children||[]),Q.return=x,x=Q;break t}else{r(x,V);break}else n(x,V);V=V.sibling}Q=Mc(z,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return st=z._init,z=st(z._payload),Xt(x,V,z,Q)}if(ie(z))return pt(x,V,z,Q);if(U(z)){if(st=U(z),typeof st!="function")throw Error(a(150));return z=st.call(z),dt(x,V,z,Q)}if(typeof z.then=="function")return Xt(x,V,Gu(z),Q);if(z.$$typeof===ct)return Xt(x,V,Ou(x,z),Q);Qu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(x,V.sibling),Q=c(V,z),Q.return=x,x=Q):(r(x,V),Q=Nc(z,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,V)}return function(x,V,z,Q){try{sl=0;var st=Xt(x,V,z,Q);return qa=null,st}catch(lt){if(lt===$s||lt===Mu)throw lt;var wt=an(29,lt,null,x.mode);return wt.lanes=Q,wt.return=x,wt}finally{}}}var ja=$m(!0),Jm=$m(!1),Tn=X(null),Yn=null;function Qi(t){var n=t.alternate;J(Ae,Ae.current&1),J(Tn,t),Yn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Yn=t)}function Wm(t){if(t.tag===22){if(J(Ae,Ae.current),J(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Yi()}function Yi(){J(Ae,Ae.current),J(Tn,Tn.current)}function Ti(t){nt(Tn),Yn===t&&(Yn=null),nt(Ae)}var Ae=X(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),Ws(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),Ws(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=ji(r);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,r),n!==null&&(cn(n,t,r),Ws(n,t,r))}};function tg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Hs(r,l)||!Hs(c,f):!0}function eg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ng(t){Fu(t)}function ig(t){console.error(t)}function rg(t){Fu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,r){return r=ji(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function sg(t){return t=ji(t),t.tag=3,t}function lg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ag(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ag(n,r,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function E0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Xs(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Yn===null?Bh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return r.flags|=65536,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),kh(t,l,c)),!1}throw Error(a(435,r.tag))}return kh(t,l,c),Bh(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lc&&(t=Error(a(422),{cause:l}),Fs(yn(t,r)))):(l!==Lc&&(n=Error(a(423),{cause:l}),Fs(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=mh(t.stateNode,l,c),Yc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=yn(f,r),ml===null?ml=[f]:ml.push(f),se!==4&&(se=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=mh(r.stateNode,l,t),Yc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=sg(c),lg(c,t,r,l),Yc(r,c),!1}r=r.return}while(r!==null);return!1}var ug=Error(a(461)),De=!1;function Ue(t,n,r,l){n.child=t===null?Jm(n,null,r,l):ja(n,t.child,r,l)}function og(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Xr(n),l=$c(t,n,r,y,f,c),E=Jc(),t!==null&&!De?(Wc(t,n,c),Ai(t,n,c)):(Pt&&E&&xc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Oc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hg(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Hs,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Hs(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return gh(t,n,r,l,c)}function fg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return dg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?hm(n,f):Xc(),Wm(n);else return n.lanes=n.childLanes=536870912,dg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Nu(n,f.cachePool),hm(n,f),Yi(),n.memoizedState=null):(t!==null&&Nu(n,null),Xc(),Yi());return Ue(t,n,c,r),n.child}function dg(t,n,r,l){var c=jc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Nu(n,null),Xc(),Wm(n),t!==null&&Xs(t,n,l,!0),null}function Ku(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gh(t,n,r,l,c){return Xr(n),r=$c(t,n,r,l,void 0,c),l=Jc(),t!==null&&!De?(Wc(t,n,c),Ai(t,n,c)):(Pt&&l&&xc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function mg(t,n,r,l,c,f){return Xr(n),n.updateQueue=null,r=dm(n,l,r,c),fm(t),l=Jc(),t!==null&&!De?(Wc(t,n,f),Ai(t,n,f)):(Pt&&l&&xc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function gg(t,n,r,l,c){if(Xr(n),n.stateNode===null){var f=Na,y=r.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?je(y):Na,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),el(n,l,f,c),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=$r(r,E);f.props=b;var B=f.context,G=r.contextType;y=Na,typeof G=="object"&&G!==null&&(y=je(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&eg(n,f,l,y),qi=!1;var P=n.memoizedState;f.state=P,el(n,l,f,c),tl(),B=n.memoizedState,E||P!==B||qi?(typeof Y=="function"&&(fh(n,r,Y,l),B=n.memoizedState),(b=qi||tg(n,r,b,l,P,B,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,G=$r(r,y),f.props=G,Y=n.pendingProps,P=f.context,B=r.contextType,b=Na,typeof B=="object"&&B!==null&&(b=je(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==b)&&eg(n,f,l,b),qi=!1,P=n.memoizedState,f.state=P,el(n,l,f,c),tl();var k=n.memoizedState;y!==Y||P!==k||qi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(fh(n,r,E,l),k=n.memoizedState),(G=qi||tg(n,r,G,l,P,k,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ja(n,t.child,null,c),n.child=ja(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function pg(t,n,r,l){return Ys(),n.flags|=256,Ue(t,n,r,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:im()}}function _h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function yg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Qi(n):Yi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Hr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||Yr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Yi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(r),c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Qi(n),vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Qi(n),n.flags&=-257,n=Eh(t,n,r)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ja(n,t.child,null,r),l=n.child,l.memoizedState=yh(r),l.childLanes=_h(t,y,r),n.memoizedState=ph,n=c);else if(Qi(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(a(419)),l.stack="",l.digest=y,Fs({value:l,source:null,stack:null}),n=Eh(t,n,r)}else if(De||Xs(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),cn(y,t,l),ug;E.data==="$?"||Bh(),n=Eh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=On(E.nextSibling),Ze=n,Pt=!0,Qr=null,Qn=!1,t!==null&&(vn[En++]=pi,vn[En++]=yi,vn[En++]=Hr,pi=t.id,yi=t.overflow,Hr=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(Yi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=gi(B,c):(c=jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(r):(b=E.cachePool,b!==null?(B=Te._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=im(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Qi(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function vh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,r){return ja(n,t.child,null,r),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _g(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,r)}function Th(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_g(t,r,n);else if(t.tag===19)_g(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Th(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Th(n,!0,r,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Xs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function T0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ki(n,Te,t.memoizedState.cache),Ys();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yg(t,n,r):(Qi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Qi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Xs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,fg(t,n,r);case 24:ki(n,Te,t.memoizedState.cache)}return Ai(t,n,r)}function Eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ah(t,r)&&(n.flags&128)===0)return De=!1,T0(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&Zd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Oc(l)?(t=$r(l,t),n.tag=1,n=gg(null,n,l,t,r)):(n.tag=0,n=gh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Vt){n.tag=11,n=og(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=cg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=$r(l,n.pendingProps),gg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),el(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ki(n,Te,l),l!==f.cache&&Pc(n,[Te],r,!0),tl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pg(t,n,l,r);break t}else if(l!==c){c=yn(Error(a(424)),n),Fs(c),n=pg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=On(t.firstChild),Ze=n,Pt=!0,Qr=null,Qn=!0,r=Jm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ys(),l===c){n=Ai(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return Ku(t,n),t===null?(r=bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(yt.current).createElement(r),l[_e]=n,l[he]=t,ze(l,r,t),le(l),n.stateNode=l):n.memoizedState=bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Pt&&(l=n.stateNode=Tp(n.type,n.pendingProps,yt.current),Ze=n,Qn=!0,c=ae,er(n.type)?(nf=c,ae=On(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,r),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=K0(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Ze=n,ae=On(l.firstChild),Qn=!1,c=!0):c=!1),c||Yr(n)),Ni(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(t,n,d0,null,null,r),Sl._currentValue=c),Ku(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=Z0(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||Yr(n)),null;case 13:return yg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ja(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return og(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ki(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xr(n),c=je(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return cg(t,n,n.type,n.pendingProps,r);case 15:return hg(t,n,n.type,n.pendingProps,r);case 19:return vg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return fg(t,n,r);case 24:return Xr(n),l=je(Te),t===null?(c=jc(),c===null&&(c=$t,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Gc(n),ki(n,Te,c)):((t.lanes&r)!==0&&(Qc(t,n),el(n,null,null,r),tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ki(n,Te,l)):(l=f.cache,ki(n,Te,l),l!==c.cache&&Pc(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Tg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=Tn.current,n!==null&&((Mt&4194048)===Mt?Yn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Yn))throw Js=Hc,rm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rs():536870912,t.lanes|=n,Ya|=n)}function ul(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function A0(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qs(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wd())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ee(n),Tg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ee(n),Tg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ee(n),n.flags&=-16777217),null;case 27:ni(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ht.current,Qs(n)?$d(n):(t=Tp(c,l,r),n.stateNode=t,Si(n))}return ee(n),null;case 5:if(ni(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ht.current,Qs(n))$d(n);else{switch(c=co(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,Qs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||mp(t.nodeValue,r)),t||Yr(n)}else t=co(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return Mn(),t===null&&Fh(n.stateNode.containerInfo),ee(n),null;case 10:return vi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ul(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ul(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kd(r,t),r=r.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>to&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*hn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=Ae.current,J(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ti(n),Kc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function S0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Mn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Kc(),t!==null&&nt(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function Ag(t,n){switch(Uc(n),n.tag){case 3:vi(Te),Mn();break;case 26:case 27:case 5:ni(n);break;case 4:Mn();break;case 13:Ti(n);break;case 19:nt(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Kc(),t!==null&&nt(Kr);break;case 24:vi(Te)}}function ol(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Fi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,B=E;try{B()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{cm(n,r)}catch(l){Kt(t,t.return,l)}}}function bg(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function cl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Rg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Sh(t,n,r){try{var l=t.stateNode;G0(l,t.type,r,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,r),t=t.sibling;t!==null;)Rh(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Cg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[he]=r}catch(f){Kt(t,t.return,f)}}var bi=!1,oe=!1,wh=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function b0(t,n){if(t=t.containerInfo,Zh=yo,t=Pd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,B=0,G=0,Y=t,P=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)P=Y,Y=k;for(;;){if(Y===t)break e;if(P===r&&++B===c&&(E=y),P===f&&++G===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},yo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var pt=$r(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Kt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r),l&4&&ol(5,r);break;case 1:if(Xi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Sg(r),l&512&&cl(r,r.return);break;case 3:if(Xi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{cm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Cg(r);case 26:case 5:Xi(t,r),n===null&&l&4&&Rg(r),l&512&&cl(r,r.return);break;case 12:Xi(t,r);break;case 13:Xi(t,r),l&4&&Ng(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=M0.bind(null,r),$0(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Ki(t,r,(r.subtreeFlags&8772)!==0):Xi(t,r),bi=c,oe=f}break;case 30:break;default:Xi(t,r)}}function Ig(t){var n=t.alternate;n!==null&&(t.alternate=null,Ig(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,Je=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Og(t,n,r),r=r.sibling}function Og(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Fn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Fn(r,n);var l=Wt,c=Je;er(r.type)&&(Wt=r.stateNode,Je=!1),Ri(t,n,r),vl(r.stateNode),Wt=l,Je=c;break;case 5:oe||Fn(r,n);case 6:if(l=Wt,c=Je,Wt=null,Ri(t,n,r),Wt=l,Je=c,Wt!==null)if(Je)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:Wt!==null&&(Je?(t=Wt,vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Cl(t)):vp(Wt,r.stateNode));break;case 4:l=Wt,c=Je,Wt=r.stateNode.containerInfo,Je=!0,Ri(t,n,r),Wt=l,Je=c;break;case 0:case 11:case 14:case 15:oe||Fi(2,r,n),oe||Fi(4,r,n),Ri(t,n,r);break;case 1:oe||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&bg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ri(t,n,r),oe=l;break;default:Ri(t,n,r)}}function Ng(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(r){Kt(n,n.return,r)}}function R0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dg),n;default:throw Error(a(435,t.tag))}}function Ch(t,n){var r=R0(t);n.forEach(function(l){var c=x0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){Wt=E.stateNode,Je=!1;break t}break;case 5:Wt=E.stateNode,Je=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(Wt===null)throw Error(a(160));Og(f,y,c),Wt=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Mg(n,t),n=n.sibling}var In=null;function Mg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Fi(3,t,t.return),ol(3,t),Fi(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var y=Cp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Cp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Dp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),r!==null&&l&4&&Sh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(mo=null,c=In,In=ho(n.containerInfo),sn(n,t),In=c,ln(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(k){Kt(t,t.return,k)}wh&&(wh=!1,xg(t));break;case 4:l=In,In=ho(t.stateNode.containerInfo),sn(n,t),ln(t),In=l;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,B=bi,G=oe;if(bi=B||c,oe=G||b,sn(n,t),oe=G,bi=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||oe||Jr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(k){Kt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Kt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ch(t,r))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(wg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=bh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var E=bh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,B=bh(t);Rh(t,B,b);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Jr(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&bg(n,n.return,r),Jr(n);break;case 27:vl(n.stateNode);case 26:case 5:Fn(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,r),ol(4,f);break;case 1:if(Ki(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)om(b[c],E)}catch(B){Kt(l,l.return,B)}}r&&y&64&&Sg(f),cl(f,f.return);break;case 27:Cg(f);case 26:case 5:Ki(c,f,r),r&&l===null&&y&4&&Rg(f),cl(f,f.return);break;case 12:Ki(c,f,r);break;case 13:Ki(c,f,r),r&&y&4&&Ng(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,r),cl(f,f.return);break;case 30:break;default:Ki(c,f,r)}n=n.sibling}}function Dh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ks(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ug(t,n,r,l),n=n.sibling}function Ug(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&ol(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ks(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):hl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ha(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(f,y,E,b,c),ol(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ha(f,y,E,b,c):hl(f,y):(G._visibility|=2,Ha(f,y,E,b,c)),c&&B&2048&&Dh(y.alternate,y);break;case 24:Ha(f,y,E,b,c),c&&B&2048&&Vh(y.alternate,y);break;default:Ha(f,y,E,b,c)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:hl(r,l),c&2048&&Dh(l.alternate,l);break;case 24:hl(r,l),c&2048&&Vh(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var fl=8192;function Ga(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 26:Ga(t),t.flags&fl&&t.memoizedState!==null&&cE(In,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var n=In;In=ho(t.stateNode.containerInfo),Ga(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,Ga(t),fl=n):Ga(t));break;default:Ga(t)}}function zg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):dl(t);break;default:dl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}zg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Pg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Fi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Ig(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var w0={getCacheForType:function(t){var n=je(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},C0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,Mt=0,Gt=0,un=null,Zi=!1,Qa=!1,Ih=!1,wi=0,se=0,$i=0,Wr=0,Oh=0,An=0,Ya=0,ml=null,We=null,Nh=!1,Mh=0,to=1/0,eo=null,Ji=null,Le=0,Wi=null,Fa=null,Xa=0,xh=0,Uh=null,kg=null,gl=0,Lh=null;function on(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Ua;return t!==0?t:Hh()}return xi()}function qg(){An===0&&(An=(Mt&536870912)===0||Pt?bs():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function cn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),tr(t,Mt,An,!1)),ri(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(Wr|=r),se===4&&tr(t,Mt,An,!1)),Kn(t))}function jg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Rr(t,n),c=l?I0(t,n):Ph(t,n,!0),f=l;do{if(c===0){Qa&&!l&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!D0(r)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=ml;var b=E.current.memoizedState.isDehydrated;if(b&&(Ka(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,Wr|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ka(t,0),tr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(l,n,An,!Zi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Mh+300-hn(),10<c)){if(tr(l,n,An,!Zi),fa(l,0,!0)!==0)break t;l.timeoutHandle=yp(Hg.bind(null,l,r,We,eo,Nh,n,An,Wr,Ya,Zi,f,2,-0,0),c);break t}Hg(l,r,We,eo,Nh,n,An,Wr,Ya,Zi,f,0,-0,0)}}break}while(!0);Kn(t)}function Hg(t,n,r,l,c,f,y,E,b,B,G,Y,P,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:oE},Lg(n),Y=hE(),Y!==null)){t.cancelPendingCommit=Y(Zg.bind(null,t,n,f,r,l,c,y,E,b,G,1,P,k)),tr(t,f,y,!B);return}Zg(t,n,f,r,l,c,y,E,b)}function D0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,l){n&=~Oh,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&xn(t,r,n)}function no(){return(Ht&6)===0?(pl(0),!1):!0}function zh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,_i=Fr=null,th(t),qa=null,sl=0,t=Ct;for(;t!==null;)Ag(t.alternate,t),t=t.return;Ct=null}}function Ka(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Y0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zh(),$t=t,Ct=r=gi(t.current,null),Mt=n,Gt=0,un=null,Zi=!1,Qa=Rr(t,n),Ih=!1,Ya=An=Oh=Wr=$i=se=0,We=ml=null,Nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,bu(),r}function Gg(t,n){St=null,H.H=Hu,n===$s||n===Mu?(n=lm(),Gt=3):n===rm?(n=lm(),Gt=4):Gt=n===ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Ct===null&&(se=1,Xu(t,yn(n,t.current)))}function Qg(){var t=H.H;return H.H=Hu,t===null?Hu:t}function Yg(){var t=H.A;return H.A=w0,t}function Bh(){se=4,Zi||(Mt&4194048)!==Mt&&Tn.current!==null||(Qa=!0),($i&134217727)===0&&(Wr&134217727)===0||$t===null||tr($t,Mt,An,!1)}function Ph(t,n,r){var l=Ht;Ht|=2;var c=Qg(),f=Yg();($t!==t||Mt!==n)&&(eo=null,Ka(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=un;switch(Gt){case 8:zh(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Gt;if(Gt=0,un=null,Za(t,E,b,B),r&&Qa){y=0;break t}break;default:B=Gt,Gt=0,un=null,Za(t,E,b,B)}}V0(),y=se;break}catch(G){Gg(t,G)}while(!0);return n&&t.shellSuspendCounter++,_i=Fr=null,Ht=l,H.H=c,H.A=f,Ct===null&&($t=null,Mt=0,bu()),y}function V0(){for(;Ct!==null;)Fg(Ct)}function I0(t,n){var r=Ht;Ht|=2;var l=Qg(),c=Yg();$t!==t||Mt!==n?(eo=null,to=hn()+500,Ka(t,n)):Qa=Rr(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Za(t,n,f,1);break;case 2:case 9:if(am(f)){Gt=0,un=null,Xg(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Kn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:am(f)?(Gt=0,un=null,Xg(n)):(Gt=0,un=null,Za(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Vp(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Ct=b;else{var B=E.return;B!==null?(Ct=B,io(B)):Ct=null}break e}}Gt=0,un=null,Za(t,n,f,5);break;case 6:Gt=0,un=null,Za(t,n,f,6);break;case 8:zh(),se=6;break t;default:throw Error(a(462))}}O0();break}catch(G){Gg(t,G)}while(!0);return _i=Fr=null,H.H=l,H.A=c,Ht=r,Ct!==null?0:($t=null,Mt=0,bu(),se)}function O0(){for(;Ct!==null&&!Es();)Fg(Ct)}function Fg(t){var n=Eg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function Xg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=mg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=mg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:th(n);default:Ag(r,n),n=Ct=Kd(n,wi),n=Eg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function Za(t,n,r,l){_i=Fr=null,th(n),qa=null,sl=0;var c=n.return;try{if(E0(t,c,n,r,Mt)){se=1,Xu(t,yn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,Xu(t,yn(r,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:Qa||(Mt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Kg(n,Zi);return}t=n.return;var r=A0(n.alternate,n,wi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function Kg(t,n){do{var r=S0(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);se=6,Ct=null}function Zg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(Le!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vc,ws(t,r,f,y,E,b),t===$t&&(Ct=$t=null,Mt=0),Fa=n,Wi=t,Xa=r,xh=f,Uh=c,kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U0(Tr,function(){return ep(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{b0(t,n,r)}finally{Ht=y,et.p=c,H.T=l}}Le=1,$g(),Jg(),Wg()}}function $g(){if(Le===1){Le=0;var t=Wi,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Mg(n,t);var f=$h,y=Pd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Bd(E.ownerDocument.documentElement,E)){if(b!==null&&bc(E)){var B=b.start,G=b.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var k=P.getSelection(),pt=E.textContent.length,dt=Math.min(b.start,pt),Xt=b.end===void 0?dt:Math.min(b.end,pt);!k.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var x=zd(E,dt),V=zd(E,Xt);if(x&&V&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var z=Y.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),dt>Xt?(k.addRange(z),k.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yo=!!Zh,$h=Zh=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,Le=2}}function Jg(){if(Le===2){Le=0;var t=Wi,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Vg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}Le=3}}function Wg(){if(Le===4||Le===3){Le=0,Wl();var t=Wi,n=Fa,r=Xa,l=kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Fa=Wi=null,tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ji=null),da(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Xa&3)!==0&&ro(),Kn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Lh?gl++:(gl=0,Lh=t):gl=0,pl(0)}}function tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ks(n)))}function ro(t){return $g(),Jg(),Wg(),ep()}function ep(){if(Le!==5)return!1;var t=Wi,n=xh;xh=0;var r=da(Xa),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Uh,Uh=null;var f=Wi,y=Xa;if(Le=0,Fa=Wi=null,Xa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Bg(f.current),Ug(f,f.current,y,r),Ht=E,pl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,tp(t,n)}}function np(t,n,r){n=yn(r,n),n=mh(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(ri(t,2),Kn(t))}function Kt(t,n,r){if(t.tag===3)np(t,t,r);else for(;n!==null;){if(n.tag===3){np(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=yn(r,t),r=sg(2),l=Hi(n,r,2),l!==null&&(lg(r,l,n,t),ri(l,2),Kn(l));break}}n=n.return}}function kh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new C0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=N0.bind(null,t,n,r),n.then(t,t))}function N0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Mt&r)===r&&(se===4||se===3&&(Mt&62914560)===Mt&&300>hn()-Mh?(Ht&2)===0&&Ka(t,0):Oh|=r,Ya===Mt&&(Ya=0)),Kn(t)}function ip(t,n){n===0&&(n=Rs()),t=Oa(t,n),t!==null&&(ri(t,n),Kn(t))}function M0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ip(t,r)}function x0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ip(t,r)}function U0(t,n){return vr(t,n)}var ao=null,$a=null,qh=!1,so=!1,jh=!1,ta=0;function Kn(t){t!==$a&&t.next===null&&($a===null?ao=$a=t:$a=$a.next=t),so=!0,qh||(qh=!0,z0())}function pl(t,n){if(!jh&&so){jh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,lp(l,f))}else f=Mt,f=fa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rr(l,f)||(r=!0,lp(l,f));l=l.next}while(r);jh=!1}}function L0(){rp()}function rp(){so=qh=!1;var t=0;ta!==0&&(Q0()&&(t=ta),ta=0);for(var n=hn(),r=null,l=ao;l!==null;){var c=l.next,f=ap(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}pl(t)}function ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ss(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Mt,r=fa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Er(l),da(r)){case 2:case 8:r=ca;break;case 32:r=Tr;break;case 268435456:r=ha;break;default:r=Tr}return l=sp.bind(null,t),r=vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=Mt;return l=fa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jg(t,l,n),ap(t,hn()),t.callbackNode!=null&&t.callbackNode===r?sp.bind(null,t):null)}function lp(t,n){if(ro())return null;jg(t,n,!0)}function z0(){F0(function(){(Ht&6)!==0?vr(Ts,L0):rp()})}function Hh(){return ta===0&&(ta=bs()),ta}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function op(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function B0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=up((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?up(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ea("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var b=y?op(c,y):new FormData(c);oh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?op(c,y):new FormData(c),oh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Dc.length;Gh++){var Qh=Dc[Gh],P0=Qh.toLowerCase(),k0=Qh[0].toUpperCase()+Qh.slice(1);Vn(P0,"on"+k0)}Vn(jd,"onAnimationEnd"),Vn(Hd,"onAnimationIteration"),Vn(Gd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(i0,"onTransitionRun"),Vn(r0,"onTransitionStart"),Vn(a0,"onTransitionCancel"),Vn(Qd,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Fu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Fu(G)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Ds];r===void 0&&(r=n[Ds]=new Set);var l=t+"__bubble";r.has(l)||(hp(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),hp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[lo]){t[lo]=!0,Vs.forEach(function(r){r!=="selectionchange"&&(q0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Yh("selectionchange",!1,n))}}function hp(t,n,r,l){switch(Up(n)){case 2:var c=mE;break;case 8:c=gE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Xh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var B=f,G=mn(r),Y=[];t:{var P=Yd.get(t);if(P!==void 0){var k=Ea,pt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":k=wa;break;case"focusin":pt="focus",k=Sa;break;case"focusout":pt="blur",k=Sa;break;case"beforeblur":case"afterblur":k=Sa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yu;break;case jd:case Hd:case Gd:k=ba;break;case Qd:k=vu;break;case"scroll":case"scrollend":k=cu;break;case"wheel":k=Ca;break;case"copy":case"cut":case"paste":k=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=qs;break;case"toggle":case"beforetoggle":k=Tu}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),x=dt?P!==null?P+"Capture":null:P;dt=[];for(var V=B,z;V!==null;){var Q=V;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||x===null||(Q=Mr(V,x),Q!=null&&dt.push(_l(V,Q,z))),Xt)break;V=V.return}0<dt.length&&(P=new k(P,pt,null,r,G),Y.push({event:P,listeners:dt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&r!==oi&&(pt=r.relatedTarget||r.fromElement)&&(ai(pt)||pt[fn]))break t;if((k||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,k?(pt=r.relatedTarget||r.toElement,k=B,pt=pt?ai(pt):null,pt!==null&&(Xt=h(pt),dt=pt.tag,pt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(pt=null)):(k=null,pt=B),k!==pt)){if(dt=pn,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(dt=qs,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Xt=k==null?P:Ln(k),z=pt==null?P:Ln(pt),P=new dt(Q,V+"leave",k,r,G),P.target=Xt,P.relatedTarget=z,Q=null,ai(G)===B&&(dt=new dt(x,V+"enter",pt,r,G),dt.target=z,dt.relatedTarget=Xt,Q=dt),Xt=Q,k&&pt)e:{for(dt=k,x=pt,V=0,z=dt;z;z=Ja(z))V++;for(z=0,Q=x;Q;Q=Ja(Q))z++;for(;0<V-z;)dt=Ja(dt),V--;for(;0<z-V;)x=Ja(x),z--;for(;V--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=Ja(dt),x=Ja(x)}dt=null}else dt=null;k!==null&&fp(Y,P,k,dt,!1),pt!==null&&Xt!==null&&fp(Y,Xt,pt,dt,!0)}}t:{if(P=B?Ln(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var st=Od;else if(Ee(P))if(Nd)st=t0;else{st=Jv;var wt=$v}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&xs(B.elementType)&&(st=Od):st=Wv;if(st&&(st=st(t,B))){mi(Y,st,r,G);break t}wt&&wt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Bi(P,"number",P.value)}switch(wt=B?Ln(B):window,t){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Da=wt,Rc=B,Gs=null);break;case"focusout":Gs=Rc=Da=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,kd(Y,r,G);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":kd(Y,r,G)}var lt;if(Hn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(lt=Ls()):(Pn=G,Pi="value"in Pn?Pn.value:Pn.textContent,Ot=!0)),wt=uo(B,mt),0<wt.length&&(mt=new Ps(mt,t,null,r,G),Y.push({event:mt,listeners:wt}),lt?mt.data=lt:(lt=W(r),lt!==null&&(mt.data=lt)))),(lt=m?ve(t,r):Nt(t,r))&&(mt=uo(B,"onBeforeInput"),0<mt.length&&(wt=new Ps("onBeforeInput","beforeinput",null,r,G),Y.push({event:wt,listeners:mt}),wt.data=lt)),B0(Y,t,B,r,G)}cp(Y,n)})}function _l(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Mr(t,r),c!=null&&l.unshift(_l(t,c,f)),c=Mr(t,n),c!=null&&l.push(_l(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Mr(r,f),B!=null&&y.unshift(_l(r,B,b))):c||(B=Mr(r,f),B!=null&&y.push(_l(r,B,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var j0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function dp(t){return(typeof t=="string"?t:""+t).replace(j0,`
`).replace(H0,"")}function mp(t,n){return n=dp(n),dp(t)===n}function oo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":Ms(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,zi(t,r,l))}}function Kh(t,n,r,l,c,f){switch(r){case"style":Ms(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ft(t,n,l,G,r,null)}}Ir(t,f,E,b,B,y,c,!1),_a(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Or(t,l,c,f),_a(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Dt(yl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,B,l,r,null)}return;default:if(xs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Kh(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function G0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,G=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,Y)}}for(var P in l){var k=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(k!=null||Y!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Ft(t,n,P,k,l,Y)}}nn(t,y,E,b,B,G,f,c);return;case"select":k=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=k,P!=null?ui(t,!!r,P,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":k=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,P,k);return;case"option":for(var pt in r)if(P=r[pt],r.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Ft(t,n,pt,null,l,P)}for(b in l)if(P=l[b],k=r[b],l.hasOwnProperty(b)&&P!==k&&(P!=null||k!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)P=r[dt],r.hasOwnProperty(dt)&&P!=null&&!l.hasOwnProperty(dt)&&Ft(t,n,dt,null,l,P);for(B in l)if(P=l[B],k=r[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,B,P,l,k)}return;default:if(xs(n)){for(var Xt in r)P=r[Xt],r.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&Kh(t,n,Xt,void 0,l,P);for(G in l)P=l[G],k=r[G],!l.hasOwnProperty(G)||P===k||P===void 0&&k===void 0||Kh(t,n,G,P,l,k);return}}for(var x in r)P=r[x],r.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,P);for(Y in l)P=l[Y],k=r[Y],!l.hasOwnProperty(Y)||P===k||P==null&&k==null||Ft(t,n,Y,P,l,k)}var Zh=null,$h=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function Q0(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(t){return _p.resolve(null).then(t).catch(X0)}:yp;function X0(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function vp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&vl(y.documentElement),r&2&&vl(y.body),r&4)for(r=y.head,vl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[wr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Cl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Cl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function K0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function Z0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function Ep(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Tp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var Sn=new Map,Ap=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=et.d;et.d={f:J0,r:W0,D:tE,C:eE,L:nE,m:iE,X:aE,S:rE,M:sE};function J0(){var t=Ci.f(),n=no();return t||n}function W0(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?jm(n):Ci.r(t)}var Wa=typeof document>"u"?null:document;function Sp(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ap.has(c)||(Ap.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function tE(t){Ci.D(t),Sp("dns-prefetch",t,null)}function eE(t,n){Ci.C(t,n),Sp("preconnect",t,n)}function nE(t,n,r){Ci.L(t,n,r);var l=Wa;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ts(t);break;case"script":f=es(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(El(f))||n==="script"&&l.querySelector(Tl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function iE(t,n){Ci.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=es(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}l=r.createElement("link"),ze(l,"link",t),le(l),r.head.appendChild(l)}}}function rE(t,n,r){Ci.S(t,n,r);var l=Wa;if(l&&t){var c=Fe(l).hoistableStyles,f=ts(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(El(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&rf(t,r);var b=y=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(B,G){b.onload=B,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function aE(t,n){Ci.X(t,n);var r=Wa;if(r&&t){var l=Fe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sE(t,n){Ci.M(t,n);var r=Wa;if(r&&t){var l=Fe(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&af(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bp(t,n,r,l){var c=(c=yt.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ts(r.href),r=Fe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var f=Fe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(El(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||lE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(r),r=Fe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ts(t){return'href="'+fe(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Rp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function lE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),le(n),t.head.appendChild(n))}function es(t){return'[src="'+fe(t)+'"]'}function Tl(t){return"script[async]"+t}function wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ts(r.href);var f=t.querySelector(El(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Rp(r),(c=Sn.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=es(r.src),(c=t.querySelector(Tl(f)))?(n.instance=c,le(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Cp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[wr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function uE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function oE(){}function cE(t,n,r){if(Al===null)throw Error(a(475));var l=Al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(r.href),f=t.querySelector(El(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Rp(r),(c=Sn.get(c))&&rf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function hE(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(fE,t),po=null,go.call(t))}function fE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function dE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ip(t,n,r,l,c,f,y,E,b,B,G,Y){return t=new dE(t,n,r,y,E,b,B,Y),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Gc(f),t}function Op(t){return t?(t=Na,t):Na}function Np(t,n,r,l,c,f){c=Op(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hi(t,l,n),r!==null&&(cn(r,t,n),Ws(r,t,n))}function Mp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){Mp(t,n),(t=t.alternate)&&Mp(t,n)}function xp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&cn(n,t,67108864),lf(t,67108864)}}var yo=!0;function mE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,uf(t,n,r,l)}finally{et.p=f,H.T=c}}function gE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,uf(t,n,r,l)}finally{et.p=f,H.T=c}}function uf(t,n,r,l){if(yo){var c=of(l);if(c===null)Xh(t,n,l,_o,r),Lp(t,l);else if(yE(c,t,n,r,l))l.stopPropagation();else if(Lp(t,l),n&4&&-1<pE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Kn(f),(Ht&6)===0&&(to=hn()+500,pl(0))}}break;case 13:E=Oa(f,2),E!==null&&cn(E,f,2),no(),lf(f,2)}if(f=of(l),f===null&&Xh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xh(t,n,l,null,r)}}function of(t){return t=mn(t),cf(t)}var _o=null;function cf(t){if(_o=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case Ts:return 2;case ca:return 8;case Tr:case dc:return 32;case ha:return 268435456;default:return 32}default:return 32}}var hf=!1,nr=null,ir=null,rr=null,bl=new Map,Rl=new Map,ar=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function wl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&xp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yE(t,n,r,l,c){switch(n){case"focusin":return nr=wl(nr,t,n,r,l,c),!0;case"dragenter":return ir=wl(ir,t,n,r,l,c),!0;case"mouseover":return rr=wl(rr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Rl.set(f,wl(Rl.get(f)||null,t,n,r,l,c)),!0}return!1}function zp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=on();l=Mi(l);var c=Oa(r,l);c!==null&&cn(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);oi=l,r.target.dispatchEvent(l),oi=null}else return n=Un(r),n!==null&&xp(n),t.blockedOn=r,!1;n.shift()}return!0}function Bp(t,n,r){vo(t)&&r.delete(n)}function _E(){hf=!1,nr!==null&&vo(nr)&&(nr=null),ir!==null&&vo(ir)&&(ir=null),rr!==null&&vo(rr)&&(rr=null),bl.forEach(Bp),Rl.forEach(Bp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_E)))}var To=null;function Pp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Cl(t){function n(b){return Eo(b,t)}nr!==null&&Eo(nr,t),ir!==null&&Eo(ir,t),rr!==null&&Eo(rr,t),bl.forEach(n),Rl.forEach(n);for(var r=0;r<ar.length;r++){var l=ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)zp(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Pp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Pp(r)}}}function ff(t){this._internalRoot=t}Ao.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();Np(r,l,t,n,null,null)},Ao.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Np(t.current,2,null,t,null,null),no(),n[fn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&zp(t)}};var kp=e.version;if(kp!=="19.1.0")throw Error(a(527,kp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var vE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{re=So.inject(vE),jt=So}catch{}}return Vl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=ng,f=ig,y=rg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ip(t,1,!1,null,null,r,l,c,f,y,E,null),t[fn]=n.current,Fh(t),new ff(n)},Vl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=ng,y=ig,E=rg,b=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Ip(t,1,!0,n,r??null,l,c,f,y,E,b,B),n.context=Op(null),r=n.current,l=on(),l=Mi(l),c=ji(l),c.callback=null,Hi(r,c,l),r=l,n.current.lanes=r,ri(n,r),Kn(n),t[fn]=n.current,Fh(t),new Ao(n)},Vl.version="19.1.0",Vl}var Zp;function VE(){if(Zp)return gf.exports;Zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=DE(),gf.exports}var IE=VE();const OE=()=>{};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},NE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let C=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(C=64)),a.push(i[A],i[I],i[C],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(a_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||I==null)throw new ME;const C=h<<2|g>>4;if(a.push(C),_!==64){const j=g<<4&240|_>>2;if(a.push(j),I!==64){const Z=_<<6&192|I;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ME extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xE=function(s){const e=a_(s);return s_.encodeByteArray(e,!0)},Uo=function(s){return xE(s).replace(/\./g,"")},UE=function(s){try{return s_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=()=>LE().__FIREBASE_DEFAULTS__,BE=()=>{if(typeof process>"u"||typeof $p>"u")return;const s=$p.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&UE(s[1]);return e&&JSON.parse(e)},$f=()=>{try{return OE()||zE()||BE()||PE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kE=s=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},qE=s=>{const e=kE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},l_=()=>{var s;return(s=$f())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(s){return s.endsWith(".cloudworkstations.dev")}async function HE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}const xl={};function QE(){const s={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?s.emulator.push(e):s.prod.push(e);return s}function YE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Jp=!1;function FE(s,e){if(typeof window>"u"||typeof document>"u"||!Jf(window.location.host)||xl[s]===e||xl[s]||Jp)return;xl[s]=e;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",h=QE().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Jp=!0,d()},C}function A(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=YE(a),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),At=i("preprendIcon"),at=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ct=C.element;g(ct),A($,it);const Vt=_();v(at,At),ct.append(at,Z,$,Vt),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KE(){var s;const e=(s=$f())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZE(){return!KE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function JE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="FirebaseError";class gs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=WE,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u_.prototype.create)}}class u_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?tT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new gs(u,g,a)}}function tT(s,e){return s.replace(eT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const eT=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Wp(h)&&Wp(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Wp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new jE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rT(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:iT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iT(s){return s===ea?void 0:s}function rT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new nT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const sT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},lT=Ut.INFO,uT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},oT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=uT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=lT,this._logHandler=oT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const cT=(s,e)=>e.some(i=>s instanceof i);let ty,ey;function hT(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fT(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Df=new WeakMap,h_=new WeakMap,vf=new WeakMap,Wf=new WeakMap;function dT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ur(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&c_.set(i,s)}).catch(()=>{}),Wf.set(e,s),e}function mT(s){if(Df.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Df.set(s,e)}let Vf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Df.get(s);if(e==="objectStoreNames")return s.objectStoreNames||h_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function gT(s){Vf=s(Vf)}function pT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return h_.set(a,e.sort?e.sort():[e]),ur(a)}:fT().includes(s)?function(...e){return s.apply(Ef(this),e),ur(c_.get(this))}:function(...e){return ur(s.apply(Ef(this),e))}}function yT(s){return typeof s=="function"?pT(s):(s instanceof IDBTransaction&&mT(s),cT(s,hT())?new Proxy(s,Vf):s)}function ur(s){if(s instanceof IDBRequest)return dT(s);if(vf.has(s))return vf.get(s);const e=yT(s);return e!==s&&(vf.set(s,e),Wf.set(e,s)),e}const Ef=s=>Wf.get(s);function _T(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=ur(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ur(d.result),v.oldVersion,v.newVersion,ur(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const vT=["get","getKey","getAll","getAllKeys","count"],ET=["put","add","delete","clear"],Tf=new Map;function ny(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=ET.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||vT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Tf.set(e,h),h}gT(s=>({...s,get:(e,i,a)=>ny(e,i)||s.get(e,i,a),has:(e,i)=>!!ny(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function AT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",iy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new o_("@firebase/app"),ST="@firebase/app-compat",bT="@firebase/analytics-compat",RT="@firebase/analytics",wT="@firebase/app-check-compat",CT="@firebase/app-check",DT="@firebase/auth",VT="@firebase/auth-compat",IT="@firebase/database",OT="@firebase/data-connect",NT="@firebase/database-compat",MT="@firebase/functions",xT="@firebase/functions-compat",UT="@firebase/installations",LT="@firebase/installations-compat",zT="@firebase/messaging",BT="@firebase/messaging-compat",PT="@firebase/performance",kT="@firebase/performance-compat",qT="@firebase/remote-config",jT="@firebase/remote-config-compat",HT="@firebase/storage",GT="@firebase/storage-compat",QT="@firebase/firestore",YT="@firebase/ai",FT="@firebase/firestore-compat",XT="firebase",KT="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",ZT={[If]:"fire-core",[ST]:"fire-core-compat",[RT]:"fire-analytics",[bT]:"fire-analytics-compat",[CT]:"fire-app-check",[wT]:"fire-app-check-compat",[DT]:"fire-auth",[VT]:"fire-auth-compat",[IT]:"fire-rtdb",[OT]:"fire-data-connect",[NT]:"fire-rtdb-compat",[MT]:"fire-fn",[xT]:"fire-fn-compat",[UT]:"fire-iid",[LT]:"fire-iid-compat",[zT]:"fire-fcm",[BT]:"fire-fcm-compat",[PT]:"fire-perf",[kT]:"fire-perf-compat",[qT]:"fire-rc",[jT]:"fire-rc-compat",[HT]:"fire-gcs",[GT]:"fire-gcs-compat",[QT]:"fire-fst",[FT]:"fire-fst-compat",[YT]:"fire-vertex","fire-js":"fire-js",[XT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,$T=new Map,Nf=new Map;function ry(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(Nf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of zo.values())ry(i,s);for(const i of $T.values())ry(i,s);return!0}function JT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function WT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new u_("app","Firebase",t1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=KT;function f_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Of,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw or.create("bad-app-name",{appName:String(u)});if(i||(i=l_()),!i)throw or.create("no-options");const h=zo.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw or.create("duplicate-app",{appName:u})}const d=new aT(u);for(const v of Nf.values())d.addComponent(v);const g=new e1(i,a,d);return zo.set(u,g),g}function i1(s=Of){const e=zo.get(s);if(!e&&s===Of&&l_())return f_();if(!e)throw or.create("no-app",{appName:s});return e}function ss(s,e,i){var a;let u=(a=ZT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Bo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebase-heartbeat-database",a1=1,ql="firebase-heartbeat-store";let Af=null;function d_(){return Af||(Af=_T(r1,a1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Af}async function s1(s){try{const i=(await d_()).transaction(ql),a=await i.objectStore(ql).get(m_(s));return await i.done,a}catch(e){if(e instanceof gs)Vi.warn(e.message);else{const i=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function ay(s,e){try{const a=(await d_()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,m_(s)),await a.done}catch(i){if(i instanceof gs)Vi.warn(i.message);else{const a=or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function m_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=1024,u1=30;class o1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new h1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>u1){const d=f1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=sy(),{heartbeatsToSend:a,unsentEntries:u}=c1(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function sy(){return new Date().toISOString().substring(0,10)}function c1(s,e=l1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ly(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ly(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class h1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?JE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await s1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ly(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function f1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s){Bo(new kl("platform-logger",e=>new TT(e),"PRIVATE")),Bo(new kl("heartbeat",e=>new o1(e),"PRIVATE")),ss(If,iy,s),ss(If,iy,"esm2017"),ss("fire-js","")}d1("");var m1="firebase",g1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(m1,g1,"app");var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,g_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,U){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+O[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+O[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+O[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+O[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function h(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(w[M]=U,O=!1)}this.g=w}var g={};function v(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return $(_(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return $(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),O=I,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),O=O.j(U).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var I=v(0),C=v(1),j=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-$(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(it(this))return"-"+$(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,O="";;){var M=Vt(w,S).g;w=At(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,Z(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=At(this,N),it(N)?-1:Z(N)?0:1};function $(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(C)}s.abs=function(){return it(this)?$(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(N,S){return N.add($(S))}s.j=function(N){if(Z(this)||Z(N))return I;if(it(this))return it(N)?$(this).j($(N)):$($(this).j(N));if(it(N))return $(this.j($(N)));if(0>this.l(j)&&0>N.l(j))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,R=this.i(O)&65535,Ne=N.i(M)>>>16,ie=N.i(M)&65535;w[2*O+2*M]+=R*ie,at(w,2*O+2*M),w[2*O+2*M+1]+=U*ie,at(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Ne,at(w,2*O+2*M+1),w[2*O+2*M+2]+=U*Ne,at(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function at(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ct(N,S){this.g=N,this.h=S}function Vt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ct(I,I);if(it(N))return S=Vt($(N),S),new ct($(S.g),$(S.h));if(it(S))return S=Vt(N,$(S)),new ct($(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=C,O=S;0>=O.l(N);)w=Et(w),O=Et(O);var M=zt(w,1),U=zt(O,1);for(O=zt(O,2),w=zt(w,2);!Z(O);){var R=U.add(O);0>=R.l(N)&&(M=M.add(w),U=R),O=zt(O,1),w=zt(w,1)}return S=At(N,M.j(S)),new ct(M,S)}for(M=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=_(w),R=U.j(S);it(R)||0<R.l(N);)w-=O,U=_(w),R=U.j(S);Z(U)&&(U=C),M=M.add(U),N=At(N,R)}return new ct(M,N)}s.A=function(N){return Vt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function Et(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function zt(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,g_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,cr=d}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p_,Il,y_,Vo,Mf,__,v_,E_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function I(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function C(o,m,p){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,C.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[L].apply(T,W)}}function it(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=o.length||0,q=T.length||0;o.length=L+q;for(let W=0;W<q;W++)o[L+W]=T[W]}else o.push(T)}}class At{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(o){return/^[\s\xa0]*$/.test(o)}function ct(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Vt(o){return Vt[" "](o),o}Vt[" "]=function(){};var Et=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new At(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Bt=new Ne,D=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Et){t:{try{Vt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,J);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ni(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ni(o){this.src=o,this.g={},this.h=0}ni.prototype.add=function(o,m,p,T,L){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=vr(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new Mn(m,this.src,q,!!T,L),m.fa=p,o.push(m)),m};function _r(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Ni(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function vr(o,m,p,T){for(var L=0;L<o.length;++L){var q=o[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Es={};function Wl(o,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Wl(o,m[q],p,T,L);return null}return p=tu(p),o&&o[Re]?o.K(m,p,_(T)?!!T.capture:!1,L):hn(o,m,p,!1,T,L)}function hn(o,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Ot=ha(o);if(Ot||(o[Er]=Ot=new ni(o)),p=Ot.add(m,p,T,W,q),p.proxy)return p;if(T=fc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ht||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Tr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function fc(){function o(p){return m.call(o.src,o.listener,p)}const m=dc;return o}function Ts(o,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ts(o,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=tu(p),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=vr(q,p,T,L),-1<p&&(Ni(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=ha(o))&&(m=o.g[m.toString()],o=-1,m&&(o=vr(m,p,T,L)),(p=-1<o?m[o]:null)&&ca(p))}function ca(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])_r(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Tr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ha(m))?(_r(p,o),p.h==0&&(p.src=null,m[Er]=null)):Ni(o)}}}function Tr(o){return o in Es?Es[o]:Es[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ca(o),o=p.call(T,m)}return o}function ha(o){return o=o[Er],o instanceof ni?o:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[As]||(o[As]=function(m){return o.handleEvent(m)}),o[As])}function re(){nt.call(this),this.i=new ni(this),this.M=this,this.F=null}Z(re,nt),re.prototype[Re]=!0,re.prototype.removeEventListener=function(o,m,p,T){Ts(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),O(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=en(W,T,!0,m)&&L}if(W=m.g=o,L=en(W,T,!0,m)&&L,L=en(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=en(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ni(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function en(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Ot=W.listener,ve=W.ha||W.src;W.fa&&_r(o.i,W),L=Ot.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(o,m,p){if(typeof o=="function")p&&(o=C(o,p));else if(o&&typeof o.handleEvent=="function")o=C(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function eu(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(o){nt.call(this),this.h=o,this.g={}}Z(Ar,nt);var Sr=[];function br(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ca(m)},o),o.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),br(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,fa=g.JSON.parse,Rr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ss(){}Ss.prototype.h=null;function bs(o){return o.h||(o.h=o.i())}function Rs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){J.call(this,"d")}Z(ri,J);function ws(){J.call(this,"c")}Z(ws,J);var xn={},Cs=null;function Mi(){return Cs=Cs||new re}xn.La="serverreachability";function da(o){J.call(this,xn.La,o)}Z(da,J);function xi(o){const m=Mi();jt(m,new da(m))}xn.STAT_EVENT="statevent";function nu(o,m){J.call(this,xn.STAT_EVENT,o),this.stat=m}Z(nu,J);function Jt(o){const m=Mi();jt(m,new nu(m,o))}xn.Ma="timingevent";function _e(o,m){J.call(this,xn.Ma,o),this.size=m}Z(_e,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Ds(o,m,p,T,L,q){o.info(function(){if(o.g)if(q)for(var W="",Ot=q.split("&"),ve=0;ve<Ot.length;ve++){var Nt=Ot[ve].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Ee=Ce.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ce+"="+Nt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function gc(o,m,p,T,L,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function Ui(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+wr(o,p)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function wr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return wn(p)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}Z(Ln,Ss),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Fe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Vs={},ma={};function Cn(o,m,p){o.L=1,o.v=Or(nn(m)),o.m=p,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Cr(o),o.A=nn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Us(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=vu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new mc(C(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sr[0]=L.toString()),L=Sr);for(var q=0;q<L.length;q++){var W=Wl(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),xi(),Ds(o.i,o.u,o.A,o.l,o.R,o.m)}Fe.prototype.ca=function(o){o=o.target;const m=this.M;m&&pn(o)==3?m.j():this.Y(o)},Fe.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=pn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=mi?xi(3):xi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ru(this)){var T=hu(this.g);o="";var L=T.length,q=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),zn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,gc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ve=this.g;if((Ot=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ot)){var Nt=Ot;break e}}Nt=null}if(p=Nt)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,Jt(12),Me(this),zn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=au(this,W),xe==ma){Ee==4&&(this.s=4,Jt(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Vs){this.s=4,Jt(15),Ui(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,xe,null),Dr(this,xe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),zn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Pr(Ce),Ce.M=!0,Jt(11))}}else Ui(this.i,this.l,W,null),Dr(this,W);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?pu(this.j,this):(this.o=!1,Cr(this)))}else Ec(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Me(this),zn(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ma:(p=Number(m.substring(p,T)),isNaN(p)?Vs:(T+=1,T+p>m.length?ma:(m=m.slice(T,T+p),o.C=T+p,m)))}Fe.prototype.cancel=function(){this.J=!0,Me(this)};function Cr(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(C(o.ba,o),m)}function zi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Fe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(xi(),Jt(17)),Me(this),this.s=2,zn(this)):su(this,this.S-o)};function zn(o){o.j.G==0||o.J||pu(o.j,o)}function Me(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,br(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Dr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Is(p.h,o))){if(!o.K&&Is(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)wa(p),ba(p);else break t;ks(p),Jt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(C(p.Za,p),6e3));if(1>=pa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((o.K||p.g==o)&&wa(p),!at(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Ee=Nt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const mi=Nt[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=o.g;if(xe){const Gn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var q=T.h;q.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ya(q,q.h),q.h=null))}if(T.D){const js=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,Qt(T.I,T.D,js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Ot=W,ve=T.L;ve&&(Ot.I=ve),Ot.B&&(zi(Ot),Cr(Ot)),T.g=W}else mu(T);0<p.i.length&&Ra(p)}else Nt[0]!="stop"&&Nt[0]!="close"||di(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?di(p,7):Bs(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}xi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function li(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function pa(o){return o.h?1:o.g?o.g.size:0}function Is(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ya(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}li.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Os(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return it(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _a(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ns(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_a(o),T=pc(o),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],o)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var q=o[p].substring(0,T);L=o[p].substring(T+1)}else q=o[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Ir(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.s),this.l=o.l;var m=o.i,p=new oi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=o.m}else o&&(m=String(o).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),Bi(this,m[4]),this.l=dn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Nr(m,Ms,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Nr(m,Ms,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Nr(p,p.charAt(0)=="/"?_c:xs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Nr(p,va)),o.join("")};function nn(o){return new fe(o)}function Ir(o,m,p){o.j=p?dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ui(o,m,p){m instanceof oi?(o.i=m,ou(o.i,o.h)):(p||(m=Nr(m,vc)),o.i=new oi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Or(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Nr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ms=/[#\/\?@]/g,xs=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,va=/#/g;function oi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=oi.prototype,s.add=function(o,m){mn(this),this.i=null,o=Bn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ci(o,m){mn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return mn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){mn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},s.V=function(o){mn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return mn(this),this.i=null,o=Bn(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Us(o,m,p){ci(o,m),0<p.length&&(o.i=null,o.g.set(Bn(o,m),it(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(ci(this,T),Us(this,L,p))},o)),o.j=m}function Mr(o,m){const p=new fn;if(g.Image){const T=new Image;T.onload=j(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new fn,T=new AbortController,L=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),gn(p,"TestPingServer: error",!1,m)})}function gn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function xr(){this.g=new Rr}function Pn(o,m,p){const T=p||"";try{Ns(o,function(L,q){let W=L;_(L)&&(W=wn(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Pi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Pi,Ss),Pi.prototype.g=function(){return new fi(this.l,this.j)},Pi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(fi,re),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):qn(this),this.readyState==3&&Ls(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},s.Qa=function(o){this.g&&(this.response=o,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function zs(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=zs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function kt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,re);var Ea=/^https?$/i,Ur=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?bs(this.o):bs(Un),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){cu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ur,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){cu(this,q)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ta(o),jn(o)}function Ta(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||pn(o)!=4||o.Z()!=2)){if(o.u&&pn(o)==4)qe(o.Ea,0,o);else if(jt(o,"readystatechange"),pn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(Vr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ea.test(L?L.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<pn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ta(o)}}finally{jn(o)}}}}function jn(o,m){if(o.g){Lr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Lr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function pn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),fa(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(at(o[T]))continue;var p=M(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Sa(o){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,o),this.cb=zr("retryDelaySeedMs",1e4,o),this.Wa=zr("forwardChannelMaxRetries",2,o),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new li(o&&o.concurrentRequestLimit),this.Da=new xr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Jt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Ra(this)};function Bs(o){if(fu(o),o.G==3){var m=o.U++,p=nn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Br(o,p),m=new Fe(o,o.j,m),m.L=2,m.v=Or(nn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Cr(m)}yu(o)}function ba(o){o.g&&(Pr(o),o.g.cancel(),o.g=null)}function fu(o){ba(o),o.u&&(g.clearTimeout(o.u),o.u=null),wa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ra(o){if(!ga(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||D(),ot||(et(),ot=!0),Bt.add(m,o),o.B=0}}function Tc(o,m){return pa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(C(o.Ga,o,m),qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Fe(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),p=nn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Br(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(zs(q)))+"&"+m:this.m&&we(p,this.m,q)),ya(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Cn(L,p,null)):Cn(L,p,m),this.G=2}}else this.G==3&&(o?Ps(this,o):this.i.length==0||ga(this.h)||Ps(this))};function Ps(o,m){var p;m?p=m.l:p=o.U++;const T=nn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Br(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Fe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ya(o.h,p),Cn(p,T,m)}function Br(o,m){o.H&&zt(o.H,function(p,T){Qt(m,T,p)}),o.l&&Ns({},function(p,T){Qt(m,T,p)})}function du(o,m,p){p=Math.min(o.i.length,p);var T=o.l?C(o.l.Na,o.l,o):null;t:{var L=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let ve=0;ve<p;ve++){let Nt=L[ve].g;const Ce=L[ve].map;if(Nt-=q,0>Nt)q=Math.max(0,L[ve].g-100),Ot=!1;else try{Pn(Ce,W,"req"+Nt+"_")}catch{T&&T(Ce)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||D(),ot||(et(),ot=!0),Bt.add(m,o),o.v=0}}function ks(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(C(o.Fa,o),qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(C(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),ba(this),gu(this))};function Pr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Fe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=nn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Br(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Or(nn(m)),p.m=null,p.P=!0,si(p,o)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),ks(this),Jt(19))};function wa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function pu(o,m){var p=null;if(o.g==m){wa(o),Pr(o),o.g=null;var T=2}else if(Is(o.h,m))p=m.D,Xe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Mi(),jt(T,new _e(T,p)),Ra(o)}else mu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&ks(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var p=C(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ir(T,"https"),Or(T),L?Mr(T.toString(),p):Dn(T.toString(),p)}else Jt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Os(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,it(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,p){var T=p instanceof fe?nn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Bi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new fe(null);T&&Ir(q,T),m&&(q.g=m),L&&Bi(q,L),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Br(o,T),T}function vu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Pi({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ca(){}Ca.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){re.call(this),this.g=new Sa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!at(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}Z(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Bs(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new lu(m.Ya++,o)),m.G==3&&Ra(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Bs(this.g),delete this.g,Ke.aa.N.call(this)};function Tu(o){ri.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Tu,ri);function Au(){ws.call(this),this.status=1}Z(Au,ws);function Hn(o){this.g=o}Z(Hn,Eu),Hn.prototype.ua=function(){jt(this.g,"a")},Hn.prototype.ta=function(o){jt(this.g,new Tu(o))},Hn.prototype.sa=function(o){jt(this.g,new Au)},Hn.prototype.ra=function(){jt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,E_=function(){return new Ca},v_=function(){return Mi()},__=xn,Mf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Vo=Li,ai.COMPLETE="complete",y_=ai,Rs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",re.prototype.listen=re.prototype.K,Il=Rs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,p_=kt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",cy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new o_("@firebase/firestore");function ns(){return ia.logLevel}function rt(s,...e){if(ia.logLevel<=Ut.DEBUG){const i=e.map(td);ia.debug(`Firestore (${ps}): ${s}`,...i)}}function Ii(s,...e){if(ia.logLevel<=Ut.ERROR){const i=e.map(td);ia.error(`Firestore (${ps}): ${s}`,...i)}}function us(s,...e){if(ia.logLevel<=Ut.WARN){const i=e.map(td);ia.warn(`Firestore (${ps}): ${s}`,...i)}}function td(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,T_(s,a,i)}function T_(s,e,i){let a=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ii(a),new Error(a)}function qt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||T_(e,u,a)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Di,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Di)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new A_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class v1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new v1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=A1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function xf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return bt(a,u);{const h=S_(),d=S1(h.encode(fy(s,i)),h.encode(fy(e,i)));return d!==0?d:bt(a,u)}}i+=a>65535?2:1}return bt(s.length,e.length)}function fy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function S1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function os(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-62135596800,my=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*my);return new ye(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<dy)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/my}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ye(0,0))}static max(){return new _t(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="__name__";class Zn{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&gt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=Zn.isNumericId(e),u=Zn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class te extends Zn{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const b1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Zn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return b1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gy}static keyField(){return new Pe([gy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(te.fromString(e))}static fromName(e){return new ft(te.fromString(e).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function R1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new fr(u,ft.empty(),e)}function w1(s){return new fr(s.readTime,s.key,jl)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(_t.min(),ft.empty(),jl)}static max(){return new fr(_t.max(),ft.empty(),jl)}}function C1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==D1)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(u=>u?F.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new F((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new F((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function I1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _s(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function Wo(s){return s==null}function Po(s){return s===0&&1/s==-1/0}function O1(s){return typeof s=="number"&&Number.isInteger(s)&&!Po(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function N1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=py(e)),e=M1(s.get(i),e);return py(e)}function M1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case R_:i+="";break;default:i+=h}}return i}function py(s){return s+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function sa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function w_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return os(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new C_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const x1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=x1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",V_="__type__",I_="__previous_value__",O_="__local_write_time__";function nd(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===D_}function tc(s){const e=s.mapValue.fields[I_];return nd(e)?tc(e):e}function Hl(s){const e=dr(s.mapValue.fields[O_].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i,a,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ko="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__type__",L1="__max__",wo={mapValue:{}},M_="__vector__",qo="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?nd(s)?4:B1(s)?9007199254740991:z1(s)?10:11:gt(28295,{value:s})}function ti(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=dr(u.timestampValue),g=dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return mr(u.bytesValue).isEqual(mr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Po(d)===Po(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return os(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(yy(d)!==yy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ti(d[v],g[v])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function Ql(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function cs(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return vy(s.timestampValue,e.timestampValue);case 4:return vy(Hl(s),Hl(e));case 5:return xf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=mr(h),v=mr(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=bt(g[_],v[_]);if(A!==0)return A}return bt(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(ce(h.latitude),ce(d.latitude));return g!==0?g:bt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ey(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const I=h.fields||{},C=d.fields||{},j=(g=I[qo])===null||g===void 0?void 0:g.arrayValue,Z=(v=C[qo])===null||v===void 0?void 0:v.arrayValue,it=bt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Ey(j,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let I=0;I<v.length&&I<A.length;++I){const C=xf(v[I],A[I]);if(C!==0)return C;const j=cs(g[v[I]],_[A[I]]);if(j!==0)return j}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function vy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=dr(s),a=dr(e),u=bt(i.seconds,a.seconds);return u!==0?u:bt(i.nanos,a.nanos)}function Ey(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=cs(i[u],a[u]);if(h)return h}return bt(i.length,a.length)}function hs(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return mr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):gt(61005,{value:s})}function Io(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tc(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Io(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return sa(a.fields,(h,d)=>{u+=h.length+Io(d)}),u}(s.mapValue);default:throw gt(13486,{value:s})}}function Lf(s){return!!s&&"integerValue"in s}function id(s){return!!s&&"arrayValue"in s}function Ty(s){return!!s&&"nullValue"in s}function Ay(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oo(s){return!!s&&"mapValue"in s}function z1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[N_])===null||i===void 0?void 0:i.stringValue)===M_}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return sa(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function B1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===L1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Ul(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){sa(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new bn(Ul(this.value))}}function x_(s){const e=[];return sa(s.fields,(i,a)=>{const u=new Pe([i]);if(Oo(a)){const h=x_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),bn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,_t.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.position=e,this.inclusive=i}}function Sy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=cs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function by(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function P1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class Se extends U_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new q1(e,i,a):i==="array-contains"?new G1(e,a):i==="in"?new Q1(e,a):i==="not-in"?new Y1(e,a):i==="array-contains-any"?new F1(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new j1(e,a):new H1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cs(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends U_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ei(e,i)}matches(e){return L_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L_(s){return s.op==="and"}function z_(s){return k1(s)&&L_(s)}function k1(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function zf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+hs(s.value);if(z_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function B_(s,e){return s instanceof Se?function(a,u){return u instanceof Se&&a.op===u.op&&a.field.isEqual(u.field)&&ti(a.value,u.value)}(s,e):s instanceof ei?function(a,u){return u instanceof ei&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&B_(d,u.filters[g]),!0):!1}(s,e):void gt(19439)}function P_(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${hs(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(P_).join(" ,")+"}"}(s):"Filter"}class q1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class j1 extends Se{constructor(e,i){super(e,"in",i),this.keys=k_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class H1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=k_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function k_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class G1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return id(i)&&Ql(i.arrayValue,this.value)}}class Q1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class Y1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class F1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Ry(s,e=null,i=[],a=[],u=null,h=null,d=null){return new X1(s,e,i,a,u,h,d)}function rd(s){const e=vt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Wo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>hs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>hs(a)).join(",")),e.Ie=i}return e.Ie}function ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!P1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!by(s.startAt,e.startAt)&&by(s.endAt,e.endAt)}function Bf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function K1(s,e,i,a,u,h,d,g){return new ec(s,e,i,a,u,h,d,g)}function sd(s){return new ec(s)}function wy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Z1(s){return s.collectionGroup!==null}function Ll(s){const e=vt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Ho(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Ho(Pe.keyField(),a))}return e.Ee}function $n(s){const e=vt(s);return e.de||(e.de=$1(e,Ll(s))),e.de}function $1(s,e){if(s.limitType==="F")return Ry(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new jo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jo(s.startAt.position,s.startAt.inclusive):null;return Ry(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e,i){return new ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return ad($n(s),$n(e))&&s.limitType===e.limitType}function q_(s){return`${rd($n(s))}|lt:${s.limitType}`}function is(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>P_(u)).join(", ")}]`),Wo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>hs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>hs(u)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Ll(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,v){const _=Sy(d,g,v);return d.inclusive?_<=0:_<0}(a.startAt,Ll(a),u)||a.endAt&&!function(d,g,v){const _=Sy(d,g,v);return d.inclusive?_>=0:_>0}(a.endAt,Ll(a),u))}(s,e)}function J1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function j_(s){return(e,i)=>{let a=!1;for(const u of Ll(s)){const h=W1(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function W1(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?cs(v,_):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new ne(ft.comparator);function Oi(){return tA}const H_=new ne(ft.comparator);function Ol(...s){let e=H_;for(const i of s)e=e.insert(i.key,i);return e}function G_(s){let e=H_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function na(){return zl()}function Q_(){return zl()}function zl(){return new la(s=>s.toString(),(s,e)=>s.isEqual(e))}const eA=new ne(ft.comparator),nA=new be(ft.comparator);function It(...s){let e=nA;for(const i of s)e=e.add(i);return e}const iA=new be(bt);function rA(){return iA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function Y_(s){return{integerValue:""+s}}function aA(s,e){return O1(e)?Y_(e):ld(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function sA(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[V_]:{stringValue:D_},[O_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&nd(h)&&(h=tc(h)),h&&(d.fields[I_]=h),{mapValue:d}}(i,e):s instanceof Yl?X_(s,e):s instanceof Fl?K_(s,e):function(u,h){const d=F_(u,h),g=Cy(d)+Cy(u.Re);return Lf(d)&&Lf(u.Re)?Y_(g):ld(u.serializer,g)}(s,e)}function lA(s,e,i){return s instanceof Yl?X_(s,e):s instanceof Fl?K_(s,e):i}function F_(s,e){return s instanceof Qo?function(a){return Lf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Go extends rc{}class Yl extends rc{constructor(e){super(),this.elements=e}}function X_(s,e){const i=Z_(e);for(const a of s.elements)i.some(u=>ti(u,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends rc{constructor(e){super(),this.elements=e}}function K_(s,e){let i=Z_(e);for(const a of s.elements)i=i.filter(u=>!ti(u,a));return{arrayValue:{values:i}}}class Qo extends rc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Cy(s){return ce(s.integerValue||s.doubleValue)}function Z_(s){return id(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function uA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Yl&&u instanceof Yl||a instanceof Fl&&u instanceof Fl?os(a.elements,u.elements,ti):a instanceof Qo&&u instanceof Qo?ti(a.Re,u.Re):a instanceof Go&&u instanceof Go}(s.transform,e.transform)}class oA{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function $_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ud(s.key,Jn.none()):new Xl(s.key,s.data,Jn.none());{const i=s.data,a=bn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new ua(s.key,a,new Nn(u.toArray()),Jn.none())}}function cA(s,e,i){s instanceof Xl?function(u,h,d){const g=u.value.clone(),v=Vy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof ua?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Vy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(J_(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,a){return s instanceof Xl?function(h,d,g,v){if(!No(h.precondition,d))return g;const _=h.value.clone(),A=Iy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof ua?function(h,d,g,v){if(!No(h.precondition,d))return g;const _=Iy(h.fieldTransforms,v,d),A=d.data;return A.setAll(J_(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function hA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=F_(a.transform,u||null);h!=null&&(i===null&&(i=bn.empty()),i.set(a.field,h))}return i||null}function Dy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&os(a,u,(h,d)=>uA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xl extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ua extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function J_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Vy(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,lA(d,g,i[u]))}return a}function Iy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,sA(h,d,e))}return a}class ud extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fA extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&cA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Q_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=$_(d,g);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&os(this.mutations,e.mutations,(i,a)=>Dy(i,a))&&os(this.baseMutations,e.baseMutations,(i,a)=>Dy(i,a))}}class od{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return eA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new od(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,xt;function pA(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function W_(s){if(s===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(xt=ge||(ge={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new cr([4294967295,4294967295],0);function Oy(s){const e=S_().encode(s),i=new g_;return i.update(e),new Uint8Array(i.digest())}function Ny(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new cr([i,a],0),new cr([u,h],0)]}class cd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=cr.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(cr.fromNumber(a)));return u.compare(yA)===1&&(u=new cr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Oy(e),[a,u]=Ny(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new cd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Oy(e),[a,u]=Ny(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(_t.min(),u,new ne(bt),Oi(),It())}}class Kl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Kl(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class tv{constructor(e,i){this.targetId=e,this.Ce=i}}class ev{constructor(e,i,a=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class My{constructor(){this.Fe=0,this.Me=xy(),this.xe=ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),a=It();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:gt(38017,{changeType:h})}}),new Kl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=xy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _A{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(Bf(h))if(a===0){const d=new ft(h.path);this.tt(i,d,Ye.newNoDocument(d,_t.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(v){if(v instanceof C_)return us("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new cd(d,u,h)}catch(v){return us(v instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Bf(g.target)){const v=new ft(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Ye.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=It();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ze,this.He,a);return this.He=Oi(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new My,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new My),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ne(ft.comparator)}function xy(){return new ne(ft.comparator)}const vA={asc:"ASCENDING",desc:"DESCENDING"},EA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TA={and:"AND",or:"OR"};class AA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(s,e){return s.useProto3Json||Wo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function SA(s,e){return Yo(s,e.toTimestamp())}function Wn(s){return qt(!!s,49232),_t.fromTimestamp(function(i){const a=dr(i);return new ye(a.seconds,a.nanos)}(s))}function hd(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function iv(s){const e=te.fromString(s);return qt(uv(e),10190,{key:e.toString()}),e}function jf(s,e){return hd(s.databaseId,e.path)}function Sf(s,e){const i=iv(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(av(i))}function rv(s,e){return hd(s.databaseId,e)}function bA(s){const e=iv(s);return e.length===4?te.emptyPath():av(e)}function Hf(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function av(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Uy(s,e,i){return{name:jf(s,e),fields:i.value.mapValue.fields}}function RA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?K.UNKNOWN:W_(_.code);return new ut(A,_.message||"")}(d);i=new ev(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):_t.min(),g=new bn({mapValue:{fields:a.document.fields}}),v=Ye.newFoundDocument(u,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Mo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?Wn(a.readTime):_t.min(),d=Ye.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new gA(u,h),g=a.targetId;i=new tv(g,d)}}return i}function wA(s,e){let i;if(e instanceof Xl)i={update:Uy(s,e.key,e.value)};else if(e instanceof ud)i={delete:jf(s,e.key)};else if(e instanceof ua)i={update:Uy(s,e.key,e.data),updateMask:UA(e.fieldMask)};else{if(!(e instanceof fA))return gt(16599,{ft:e.type});i={verify:jf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:SA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function CA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(_t.min())&&(d=Wn(h)),new oA(d,u.transformResults||[])}(i,e))):[]}function DA(s,e){return{documents:[rv(s,e.path)]}}function VA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rv(s,u);const h=function(_){if(_.length!==0)return lv(ei.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(C){return{field:rs(C.field),direction:NA(C.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=kf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function IA(s){let e=bA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const C=sv(I);return C instanceof ei&&z_(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(C=>function(Z){return new Ho(as(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(I){let C;return C=typeof I=="object"?I.value:I,Wo(C)?null:C}(i.limit));let v=null;i.startAt&&(v=function(I){const C=!!I.before,j=I.values||[];return new jo(j,C)}(i.startAt));let _=null;return i.endAt&&(_=function(I){const C=!I.before,j=I.values||[];return new jo(j,C)}(i.endAt)),K1(e,u,d,h,g,"F",v,_)}function OA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=as(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=as(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=as(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Se.create(as(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(a=>sv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function NA(s){return vA[s]}function MA(s){return EA[s]}function xA(s){return TA[s]}function rs(s){return{fieldPath:s.canonicalString()}}function as(s){return Pe.fromServerFormat(s.fieldPath)}function lv(s){return s instanceof Se?function(i){if(i.op==="=="){if(Ay(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(Ty(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ay(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(Ty(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:MA(i.op),value:i.value}}}(s):s instanceof ei?function(i){const a=i.getFilters().map(u=>lv(u));return a.length===1?a[0]:{compositeFilter:{op:xA(i.op),filters:a}}}(s):gt(54877,{filter:s})}function UA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function uv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,a,u,h=_t.min(),d=_t.min(),g=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.wt=e}}function zA(s){const e=IA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.Cn=new PA}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class PA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(te.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ov=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(ov,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fs(0)}static lr(){return new fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LruGarbageCollector",kA=1048576;function By([s,e],[i,a]){const u=bt(s,i);return u===0?bt(e,a):u}class qA{constructor(e){this.Er=e,this.buffer=new be(By),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();By(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt(zy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_s(i)?rt(zy,"Ignoring IndexedDB error during garbage collection: ",i):await ys(i)}await this.mr(3e5)})}}class HA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Jo.le);const a=new qA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ly)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,g=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(_=Date.now(),ns()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${I} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function GA(s,e){return new HA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new la(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Bl(a.mutation,u,Nn.empty(),ye.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const u=na();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ol();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=na();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Oi();const d=zl(),g=function(){return zl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof ua)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Bl(A.mutation,_,A.mutation.getFieldMask(),ye.now())):d.set(_.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var I;return g.set(_,new YA(A,(I=d.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const a=zl();let u=new ne((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Nn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const I=(u.get(g.batchId)||It()).add(v);u=u.insert(g.batchId,I)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,I=Q_();A.forEach(C=>{if(!h.has(C)){const j=$_(i.get(C),a.get(C));j!==null&&I.set(C,j),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,I))}return F.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Z1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):F.resolve(na());let g=jl,v=h;return d.next(_=>F.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(C=>{v=v.insert(A,C)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:g,changes:G_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=Ol();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,h).next(g=>F.forEach(g,v=>{const _=function(I,C){return new ec(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Ol();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Bl(A.mutation,_,Nn.empty(),ye.now()),ic(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:zA(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.overlays=new ne(ft.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=na();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const u=na(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=na(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=na(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return F.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new mA(i,a));let h=this.Qr.get(i);h===void 0&&(h=It(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.$r=new be(Oe.Ur),this.Kr=new be(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ft(new te([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new te([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=It();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||bt(e.Zr,i.Zr)}static Wr(e,i){return bt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Oe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?ed:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(bt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),F.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ft(h),0);let g=new be(bt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Zr)),!0)},d),F.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return F.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Xr.firstAfterOrEqual(a);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.ii=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Oi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Oi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||C1(w1(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,a,u){gt(9500)}si(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new WA(this)}getSize(e){return F.resolve(this.size)}}class WA extends QA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.persistence=e,this.oi=new la(i=>rd(i),ad),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new fd,this.targetCount=0,this.ui=fs.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new fs(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,i){this.ci={},this.overlays={},this.li=new Jo(0),this.hi=!1,this.hi=!0,this.Pi=new ZA,this.referenceDelegate=e(this),this.Ti=new tS(this),this.indexManager=new BA,this.remoteDocumentCache=function(u){return new JA(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new LA(i),this.Ei=new XA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new $A(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const u=new eS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class eS extends V1{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.Vi=new fd,this.mi=null}static fi(e){return new dd(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,a=>{const u=ft.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,_t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.yi=new la(a=>N1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=GA(this,i)}static fi(e,i){return new Fo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}Dr(e,i,a){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new md(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ZE()?8:I1(XE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new nS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(ns()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(ns()<=Ut.DEBUG&&rt("QueryEngine","Query:",is(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(ns()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):F.resolve())}ws(e,i){if(wy(i))return F.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Pf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,Pf(i,null,"F")):this.Fs(e,_,i,v)}))})))}bs(e,i,a,u){return wy(i)||u.isEqual(_t.min())?F.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?F.resolve(null):(ns()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),is(i)),this.Fs(e,d,i,R1(u,jl)).next(g=>g))})}vs(e,i){let a=new be(j_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return ns()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",is(i)),this.ys.getDocumentsMatchingQuery(e,i,fr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="LocalStore",rS=3e8;class aS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(bt),this.Os=new la(h=>rd(h),ad),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function sS(s,e,i,a){return new aS(s,e,i,a)}async function hv(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function lS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const I=_.batch,C=I.keys();let j=F.resolve();return C.forEach(Z=>{j=j.next(()=>A.getEntry(v,Z)).next(it=>{const $=_.docVersions.get(Z);qt($!==null,48541),it.version.compareTo($)<0&&(I.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let v=It();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function fv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function uS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,I)=>{const C=u.get(I);if(!C)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,I)));let j=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?j=j.withResumeToken(ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),u=u.insert(I,j),function(it,$,At){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=rS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(C,j,A)&&g.push(i.Ti.updateTargetData(h,j))});let v=Oi(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(oS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!a.isEqual(_t.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(I=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return F.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function oS(s,e,i){let a=It(),u=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Oi();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):rt(gd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function cS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ed),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function hS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=vt(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!_s(d))throw d;rt(gd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function Py(s,e,i){const a=vt(s);let u=_t.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const I=vt(v),C=I.Os.get(A);return C!==void 0?F.resolve(I.xs.get(C)):I.Ti.getTargetData(_,A)}(a,d,$n(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:It())).next(g=>(fS(a,J1(e),g),{documents:g,$s:h})))}function fS(s,e,i){let a=s.Ns.get(e)||_t.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class ky{constructor(){this.activeTargetIds=rA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dS{constructor(){this.xo=new ky,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ky,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class jy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(qy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",gS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Qf(),g=this.jo(e,i.toUriEncodedString());rt(bf,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(g),A=Jf(_);return this.Jo(e,g,v,a,A).then(I=>(rt(bf,`Received RPC '${e}' ${d}: `,I),I),I=>{throw us(bf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",a),I})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ps}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=gS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class _S extends pS{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Qf();return new Promise((g,v)=>{const _=new p_;_.setWithCredentials(!0),_.listenOnce(y_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const I=_.getResponseJson();rt(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case Vo.TIMEOUT:rt(Ge,`RPC '${e}' ${d} timed out`),v(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const C=_.getStatus();if(rt(Ge,`RPC '${e}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j==null?void 0:j.error;if(Z&&Z.status&&Z.message){const it=function(At){const at=At.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(at)>=0?at:K.UNKNOWN}(Z.status);v(new ut(it,Z.message))}else v(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{h_:e,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{rt(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);rt(Ge,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Qf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=E_(),g=v_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,v);const I=d.createWebChannel(A,v);this.E_(I);let C=!1,j=!1;const Z=new yS({Zo:$=>{j?rt(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(C||(rt(Ge,`Opening RPC '${e}' stream ${u} transport.`),I.open(),C=!0),rt(Ge,`RPC '${e}' stream ${u} sending:`,$),I.send($))},Xo:()=>I.close()}),it=($,At,at)=>{$.listen(At,ct=>{try{at(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return it(I,Il.EventType.OPEN,()=>{j||(rt(Ge,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),it(I,Il.EventType.CLOSE,()=>{j||(j=!0,rt(Ge,`RPC '${e}' stream ${u} transport closed`),Z.u_(),this.d_(I))}),it(I,Il.EventType.ERROR,$=>{j||(j=!0,us(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new ut(K.UNAVAILABLE,"The operation could not be completed")))}),it(I,Il.EventType.MESSAGE,$=>{var At;if(!j){const at=$.data[0];qt(!!at,16349);const ct=at,Vt=(ct==null?void 0:ct.error)||((At=ct[0])===null||At===void 0?void 0:At.error);if(Vt){rt(Ge,`RPC '${e}' stream ${u} received error:`,Vt);const Et=Vt.status;let zt=function(w){const O=ge[w];if(O!==void 0)return W_(O)}(Et),N=Vt.message;zt===void 0&&(zt=K.INTERNAL,N="Unknown error status: "+Et+" with message "+Vt.message),j=!0,Z.u_(new ut(zt,N)),I.close()}else rt(Ge,`RPC '${e}' stream ${u} received:`,at),Z.c_(at)}}),it(g,__.STAT_EVENT,$=>{$.stat===Mf.PROXY?rt(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Mf.NOPROXY&&rt(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new AA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="PersistentStream";class mv{constructor(e,i,a,u,h,d,g,v){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new dv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return rt(Hy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(rt(Hy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vS extends mv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=RA(this.serializer,e),a=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Wn(d.readTime):_t.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Bf(v)?{documents:DA(h,v)}:{query:VA(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=nv(h,d.resumeToken);const _=kf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const _=kf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=OA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.Q_(i)}}class ES extends mv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=CA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Hf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>wA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class AS extends TS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(K.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class SS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ii(i),this.ua=!1):rt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class bS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{oa(this)&&(rt(ra,"Restarting streams for network reachability change."),await async function(v){const _=vt(v);_.da.add(4),await Zl(_),_.Va.set("Unknown"),_.da.delete(4),await uc(_)}(this))})}),this.Va=new SS(a,u)}}async function uc(s){if(oa(s))for(const e of s.Aa)await e(!0)}async function Zl(s){for(const e of s.Aa)await e(!1)}function gv(s,e){const i=vt(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),vd(i)?_d(i):vs(i).N_()&&yd(i,e))}function pd(s,e){const i=vt(s),a=vs(i);i.Ea.delete(e),a.N_()&&pv(i,e),i.Ea.size===0&&(a.N_()?a.k_():oa(i)&&i.Va.set("Unknown"))}function yd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vs(s).Z_(e)}function pv(s,e){s.ma.Ke(e),vs(s).X_(e)}function _d(s){s.ma=new _A({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),vs(s).start(),s.Va.ca()}function vd(s){return oa(s)&&!vs(s).O_()&&s.Ea.size>0}function oa(s){return vt(s).da.size===0}function yv(s){s.ma=void 0}async function RS(s){s.Va.set("Online")}async function wS(s){s.Ea.forEach((e,i)=>{yd(s,e)})}async function CS(s,e){yv(s),vd(s)?(s.Va.Pa(e),_d(s)):s.Va.set("Unknown")}async function DS(s,e,i){if(s.Va.set("Online"),e instanceof ev&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ea.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ea.delete(g),u.ma.removeTarget(g))}(s,e)}catch(a){rt(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Mo?s.ma.Xe(e):e instanceof tv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(_t.min()))try{const a=await fv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ea.get(_);A&&h.Ea.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ea.get(v);if(!A)return;h.Ea.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),pv(h,v);const I=new lr(A.target,v,_,A.sequenceNumber);yd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(ra,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!_s(e))throw e;s.da.add(1),await Zl(s),s.Va.set("Offline"),i||(i=()=>fv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(ra,"Retrying IndexedDB access"),await i(),s.da.delete(1),await uc(s)})}function _v(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=vt(s),i=pr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ed;for(;VS(e);)try{const u=await cS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,IS(e,u)}catch(u){await Xo(e,u)}vv(e)&&Ev(e)}function VS(s){return oa(s)&&s.Ia.length<10}function IS(s,e){s.Ia.push(e);const i=pr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function vv(s){return oa(s)&&!pr(s).O_()&&s.Ia.length>0}function Ev(s){pr(s).start()}async function OS(s){pr(s).ia()}async function NS(s){const e=pr(s);for(const i of s.Ia)e.ta(i.mutations)}async function MS(s,e,i){const a=s.Ia.shift(),u=od.from(a,e,i);await _v(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function xS(s,e){e&&pr(s).ea&&await async function(a,u){if(function(d){return pA(d)&&d!==K.ABORTED}(u.code)){const h=a.Ia.shift();pr(a).L_(),await _v(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),vv(s)&&Ev(s)}async function Gy(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),rt(ra,"RemoteStore received new credentials");const a=oa(i);i.da.add(3),await Zl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await uc(i)}async function US(s,e){const i=vt(s);e?(i.da.delete(2),await uc(i)):e||(i.da.add(2),await Zl(i),i.Va.set("Unknown"))}function vs(s){return s.fa||(s.fa=function(i,a,u){const h=vt(i);return h.oa(),new vS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:RS.bind(null,s),n_:wS.bind(null,s),i_:CS.bind(null,s),Y_:DS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),vd(s)?_d(s):s.Va.set("Unknown")):(await s.fa.stop(),yv(s))})),s.fa}function pr(s){return s.ga||(s.ga=function(i,a,u){const h=vt(i);return h.oa(),new ES(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:OS.bind(null,s),i_:xS.bind(null,s),na:NS.bind(null,s),ra:MS.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await oc(s)):(await s.ga.stop(),s.Ia.length>0&&(rt(ra,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Ed(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Td(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),_s(s))return new ut(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static emptySet(e){return new ls(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ol(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ls;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.pa=new ne(ft.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ds{constructor(e,i,a,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ds(e,i,ls.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class zS{constructor(){this.queries=Yy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=Yy(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(a)})})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function Yy(){return new la(s=>q_(s),nc)}async function Tv(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new LS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Td(d,`Initialization of query '${is(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Ad(i)}async function Av(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function BS(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(u)&&(a=!0);d.ba=u}}a&&Ad(i)}function PS(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Ad(s){s.Ca.forEach(e=>{e.next()})}var Yf,Fy;(Fy=Yf||(Yf={})).xa="default",Fy.Cache="cache";class Sv{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ds(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.key=e}}class Rv{constructor(e){this.key=e}}class kS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.Za=j_(e),this.Xa=new ls(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new Qy,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,I)=>{const C=u.get(A),j=ic(this.query,I)?I:null,Z=!!C&&this.mutatedKeys.has(C.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;C&&j?C.data.isEqual(j.data)?Z!==it&&(a.track({type:3,doc:j}),$=!0):this.ru(C,j)||(a.track({type:2,doc:j}),$=!0,(v&&this.Za(j,v)>0||_&&this.Za(j,_)<0)&&(g=!0)):!C&&j?(a.track({type:0,doc:j}),$=!0):C&&!j&&(a.track({type:1,doc:C}),$=!0,(v||_)&&(g=!0)),$&&(j?(d=d.add(j),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,I)=>function(j,Z){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:$})}};return it(j)-it(Z)}(A.type,I.type)||this.Za(A.doc,I.doc)),this.iu(a),u=u!=null&&u;const g=i&&!u?this.su():[],v=this.Ya.size===0&&this.current&&!u?1:0,_=v!==this.Ja;return this.Ja=v,d.length!==0||_?{snapshot:new ds(this.query,e.Xa,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Qy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Rv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new bv(a))}),i}au(e){this.Ha=e.$s,this.Ya=It();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ds.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sd="SyncEngine";class qS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class jS{constructor(e){this.key=e,this.cu=!1}}class HS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new la(g=>q_(g),nc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ft.comparator),this.Eu=new Map,this.du=new fd,this.Au={},this.Ru=new Map,this.Vu=fs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GS(s,e,i=!0){const a=Ov(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await wv(a,e,i,!0),u}async function QS(s,e){const i=Ov(s);await wv(i,e,!0,!1)}async function wv(s,e,i,a){const u=await hS(s.localStore,$n(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await YS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&gv(s.remoteStore,u),g}async function YS(s,e,i,a,u){s.fu=(I,C,j)=>async function(it,$,At,at){let ct=$.view.tu(At);ct.Cs&&(ct=await Py(it.localStore,$.query,!1).then(({documents:N})=>$.view.tu(N,ct)));const Vt=at&&at.targetChanges.get($.targetId),Et=at&&at.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ct,it.isPrimaryClient,Vt,Et);return Ky(it,$.targetId,zt.ou),zt.snapshot}(s,I,C,j);const h=await Py(s.localStore,e,!0),d=new kS(e,h.$s),g=d.tu(h.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);Ky(s,i,_.ou);const A=new qS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),_.snapshot}async function FS(s,e,i){const a=vt(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!nc(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&pd(a.remoteStore,u.targetId),Ff(a,u.targetId)}).catch(ys)):(Ff(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function XS(s,e){const i=vt(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pd(i.remoteStore,a.targetId))}async function KS(s,e,i){const a=nb(s);try{const u=await function(d,g){const v=vt(d),_=ye.now(),A=g.reduce((j,Z)=>j.add(Z.key),It());let I,C;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=Oi(),it=It();return v.Bs.getEntries(j,A).next($=>{Z=$,Z.forEach((At,at)=>{at.isValidDocument()||(it=it.add(At))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,Z)).next($=>{I=$;const At=[];for(const at of g){const ct=hA(at,I.get(at.key).overlayedDocument);ct!=null&&At.push(new ua(at.key,ct,x_(ct.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,At,g)}).next($=>{C=$;const At=$.applyToLocalDocumentSet(I,it);return v.documentOverlayCache.saveOverlays(j,$.batchId,At)})}).then(()=>({batchId:C.batchId,changes:G_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Au[d.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(g,v),d.Au[d.currentUser.toKey()]=_}(a,u.batchId,i),await $l(a,u.changes),await oc(a.remoteStore)}catch(u){const h=Td(u,"Failed to persist write");i.reject(h)}}async function Cv(s,e){const i=vt(s);try{const a=await uS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?qt(d.cu,14607):u.removedDocuments.size>0&&(qt(d.cu,42227),d.cu=!1))}),await $l(i,a,e)}catch(a){await ys(a)}}function Xy(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=vt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,I)=>{for(const C of I.Sa)C.Fa(g)&&(_=!0)}),_&&Ad(v)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ZS(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ft.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const g=It().add(h),v=new sc(_t.min(),new Map,new ne(bt),d,g);await Cv(a,v),a.Iu=a.Iu.remove(h),a.Eu.delete(e),bd(a)}else await Gf(a.localStore,e,!1).then(()=>Ff(a,e,i)).catch(ys)}async function $S(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await lS(i.localStore,e);Vv(i,a,null),Dv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await ys(u)}}async function JS(s,e,i){const a=vt(s);try{const u=await function(d,g){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(I=>(qt(I!==null,37113),A=I.keys(),v.mutationQueue.removeMutationBatch(_,I))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Vv(a,e,i),Dv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await ys(u)}}function Dv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Vv(s,e,i){const a=vt(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function Ff(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Iv(s,a)})}function Iv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(pd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),bd(s))}function Ky(s,e,i){for(const a of i)a instanceof bv?(s.du.addReference(a.key,e),WS(s,a)):a instanceof Rv?(rt(Sd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Iv(s,a.key)):gt(19791,{pu:a})}function WS(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(rt(Sd,"New document in limbo: "+i),s.Tu.add(a),bd(s))}function bd(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ft(te.fromString(e)),a=s.Vu.next();s.Eu.set(a,new jS(i)),s.Iu=s.Iu.insert(i,a),gv(s.remoteStore,new lr($n(sd(i.path)),a,"TargetPurposeLimboResolution",Jo.le))}}async function $l(s,e,i){const a=vt(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,v)=>{d.push(a.fu(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const I=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,I?"current":"not-current")}if(_){u.push(_);const I=md.Rs(v.targetId,_);h.push(I)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>F.forEach(_,C=>F.forEach(C.ds,j=>A.persistence.referenceDelegate.addReference(I,C.targetId,j)).next(()=>F.forEach(C.As,j=>A.persistence.referenceDelegate.removeReference(I,C.targetId,j)))))}catch(I){if(!_s(I))throw I;rt(gd,"Failed to update sequence numbers: "+I)}for(const I of _){const C=I.targetId;if(!I.fromCache){const j=A.xs.get(C),Z=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(C,it)}}}(a.localStore,h))}async function tb(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){rt(Sd,"User change. New user:",e.toKey());const a=await hv(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(v=>{v.reject(new ut(K.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.ks)}}function eb(s,e){const i=vt(s),a=i.Eu.get(e);if(a&&a.cu)return It().add(a.key);{let u=It();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const g=i.hu.get(d);u=u.unionWith(g.view.eu)}return u}}function Ov(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,e),e.lu.Y_=BS.bind(null,e.eventManager),e.lu.gu=PS.bind(null,e.eventManager),e}function nb(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return sS(this.persistence,new iS,e.initialUser,this.serializer)}Su(e){return new cv(dd.fi,this.serializer)}bu(e){return new dS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class ib extends Ko{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){qt(this.persistence.referenceDelegate instanceof Fo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new cv(a=>Fo.fi(a,i),this.serializer)}}class Xf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tb.bind(null,this.syncEngine),await US(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zS}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new _S(h)}(e.databaseInfo);return function(h,d,g,v){return new AS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new bS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Xy(this.syncEngine,i,0),function(){return jy.C()?new jy:new mS}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const I=new HS(u,h,d,g,v,_);return A&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=vt(u);rt(ra,"RemoteStore shutting down."),h.da.add(5),await Zl(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class rb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Td(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await hv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Zy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await ab(s);rt(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Gy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Gy(e.remoteStore,u)),s._onlineComponents=e}async function ab(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(yr,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;us("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Ko)}}else rt(yr,"Using default OfflineComponentProvider"),await wf(s,new ib(void 0));return s._offlineComponents}async function Mv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(yr,"Using user provided OnlineComponentProvider"),await Zy(s,s._uninitializedComponentsProvider._online)):(rt(yr,"Using default OnlineComponentProvider"),await Zy(s,new Xf))),s._onlineComponents}function sb(s){return Mv(s).then(e=>e.syncEngine)}async function xv(s){const e=await Mv(s),i=e.eventManager;return i.onListen=GS.bind(null,e.syncEngine),i.onUnlisten=FS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=QS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=XS.bind(null,e.syncEngine),i}function lb(s,e,i={}){const a=new Di;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Nv({next:C=>{A.xu(),d.enqueueAndForget(()=>Av(h,I));const j=C.docs.has(g);!j&&C.fromCache?_.reject(new ut(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&v&&v.source==="server"?_.reject(new ut(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),I=new Sv(sd(g.path),A,{includeMetadataChanges:!0,Qa:!0});return Tv(h,I)}(await xv(s),s.asyncQueue,e,i,a)),a.promise}function ub(s,e,i={}){const a=new Di;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Nv({next:C=>{A.xu(),d.enqueueAndForget(()=>Av(h,I)),C.fromCache&&v.source==="server"?_.reject(new ut(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),I=new Sv(g,A,{includeMetadataChanges:!0,Qa:!0});return Tv(h,I)}(await xv(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(s,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ob(s,e,i,a){if(e===!0&&a===!0)throw new ut(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Jy(s){if(!ft.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wy(s){if(ft.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Rd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function aa(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(s);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="firestore.googleapis.com",t_=!0;class e_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zv,this.ssl=t_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:t_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ov;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kA)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ob("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new p1;switch(a.type){case"firstParty":return new E1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=$y.get(i);a&&(rt("ComponentProvider","Removing Datastore"),$y.delete(i),a.terminate())}(this),Promise.resolve()}}function cb(s,e,i,a={}){var u;s=aa(s,cc);const h=Jf(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(HE(`https://${v}`),FE("Firestore",!0)),d.host!==zv&&d.host!==v&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:a});if(!Lo(_,g)&&(s._setSettings(_),a.mockUserToken)){let A,I;if(typeof a.mockUserToken=="string")A=a.mockUserToken,I=Qe.MOCK_USER;else{A=GE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Qe(C)}s._authCredentials=new y1(new A_(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class Rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class hr extends hc{constructor(e,i,a){super(e,i,sd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ft(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Bv(s,e,...i){if(s=Pl(s),Lv("collection","path",e),s instanceof cc){const a=te.fromString(e,...i);return Wy(a),new hr(s,null,a)}{if(!(s instanceof Rn||s instanceof hr))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Wy(a),new hr(s.firestore,null,a)}}function Kf(s,e,...i){if(s=Pl(s),arguments.length===1&&(e=b_.newId()),Lv("doc","path",e),s instanceof cc){const a=te.fromString(e,...i);return Jy(a),new Rn(s,null,new ft(a))}{if(!(s instanceof Rn||s instanceof hr))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Jy(a),new Rn(s.firestore,s instanceof hr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class i_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new dv(this,"async_queue_retry"),this.rc=()=>{const a=Rf();a&&rt(n_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Di;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!_s(e))throw e;rt(n_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Ii("INTERNAL UNHANDLED ERROR: ",r_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=Ed.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&gt(47125,{cc:r_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function r_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Jl extends cc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new i_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,await e}}}function hb(s,e){const i=typeof s=="object"?s:i1(),a=typeof s=="string"?s:ko,u=JT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=qE("firestore");h&&cb(u,...h)}return u}function wd(s){if(s._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fb(s),s._firestoreClient}function fb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,v,_,A){return new U1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Uv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new rb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms(ke.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ms(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=/^__.*__$/;class mb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}function kv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ic:s})}}class Id{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zo(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(kv(this.Ic)&&db.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}bc(e,i,a,u=!1){return new Id({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pb(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new gb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yb(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);Gv("Data must be an object, but it was:",d,a);const g=jv(a,d);let v,_;if(h.merge)v=new Nn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const C=_b(e,I,i);if(!d.contains(C))throw new ut(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Eb(A,C)||A.push(C)}v=new Nn(A),_=d.fieldTransforms.filter(I=>v.covers(I.field))}else v=null,_=d.fieldTransforms;return new mb(new bn(g),v,_)}function qv(s,e){if(Hv(s=Pl(s)))return Gv("Unsupported field value:",e,s),jv(s,e);if(s instanceof Pv)return function(a,u){if(!kv(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let v=qv(g,u.fc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Pl(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ye.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof ye){const h=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Dd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ms)return{bytesValue:nv(u.serializer,a._byteString)};if(a instanceof Rn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:hd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Vd)return function(d,g){return{mapValue:{fields:{[N_]:{stringValue:M_},[qo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return ld(g.serializer,_)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${Rd(a)}`)}(s,e)}function jv(s,e){const i={};return w_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(s,(a,u)=>{const h=qv(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Hv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ye||s instanceof Dd||s instanceof ms||s instanceof Rn||s instanceof Pv||s instanceof Vd)}function Gv(s,e,i){if(!Hv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Rd(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function _b(s,e,i){if((e=Pl(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Qv(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const vb=new RegExp("[~\\*/\\[\\]]");function Qv(s,e,i){if(e.search(vb)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Cd(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new ut(K.INVALID_ARGUMENT,g+s+v)}function Eb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Fv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Tb extends Yv{data(){return super.data()}}function Fv(s,e){return typeof e=="string"?Qv(s,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sb{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return sa(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Vd(h)}convertGeoPoint(e){return new Dd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=tc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=dr(e);return new ye(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);qt(uv(a),9688,{name:e});const u=new Gl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xv extends Yv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Fv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends Xv{data(e={}){return super.data(e)}}class Rb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ml(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ml(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ml(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:wb(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function wb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s){s=aa(s,Rn);const e=aa(s.firestore,Jl);return lb(wd(e),s._key).then(i=>Ob(e,s,i))}class Kv extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function Db(s){s=aa(s,hc);const e=aa(s.firestore,Jl),i=wd(e),a=new Kv(e);return Ab(s._query),ub(i,s._query).then(u=>new Rb(e,a,s,u))}function Vb(s){return Zv(aa(s.firestore,Jl),[new ud(s._key,Jn.none())])}function Ib(s,e){const i=aa(s.firestore,Jl),a=Kf(s),u=bb(s.converter,e);return Zv(i,[yb(pb(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then(()=>a)}function Zv(s,e){return function(a,u){const h=new Di;return a.asyncQueue.enqueueAndForget(async()=>KS(await sb(a),u,h)),h.promise}(wd(s),e)}function Ob(s,e,i){const a=i.docs.get(e._key),u=new Kv(s);return new Xv(s,u,e._key,a,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){ps=u})(n1),Bo(new kl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Jl(new _1(a.getProvider("auth-internal")),new T1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ss(oy,cy,e),ss(oy,cy,"esm2017")})();const Nb={apiKey:"AIzaSyCb9qGugd8ZV22QITB_RkKD65JKKA7eCi0",authDomain:"iill-1cb64.firebaseapp.com",projectId:"iill-1cb64",storageBucket:"iill-1cb64.appspot.com",messagingSenderId:"624347877469",appId:"1:624347877469:web:4f3c11781e4951e5233db4",measurementId:"G-83FT8F99Z6"},Mb=f_(Nb),$o=hb(Mb),Cf=["","",""];function xb({onClientAdded:s}){const[e,i]=pe.useState(""),[a,u]=pe.useState(""),[h,d]=pe.useState(Cf[0]),[g,v]=pe.useState(""),[_,A]=pe.useState(""),[I,C]=pe.useState(!1),[j,Z]=pe.useState("");function it(at,ct){if(!at||!ct)return"";const Vt=new Date(at);return Vt.setDate(Vt.getDate()+Number(ct)),Vt.toISOString().slice(0,10)}const $=it(g,_);async function At(at){at.preventDefault(),C(!0),Z("");try{await Ib(Bv($o,"clients"),{name:e,phone:a,type:h,startDate:g,endDate:$,duration:Number(_),createdAt:ye.now()}),i(""),u(""),d(Cf[0]),v(""),A(""),s&&s()}catch{Z("   ")}C(!1)}return tt.jsxs("form",{onSubmit:At,style:{direction:"rtl",maxWidth:400,margin:"auto"},children:[tt.jsx("h2",{children:"  "}),tt.jsxs("label",{children:[" :",tt.jsx("input",{required:!0,value:e,onChange:at=>i(at.target.value)})]}),tt.jsx("br",{}),tt.jsxs("label",{children:[" :",tt.jsx("input",{required:!0,value:a,onChange:at=>u(at.target.value)})]}),tt.jsx("br",{}),tt.jsxs("label",{children:[" :",tt.jsx("select",{value:h,onChange:at=>d(at.target.value),children:Cf.map(at=>tt.jsx("option",{children:at},at))})]}),tt.jsx("br",{}),tt.jsxs("label",{children:[" :",tt.jsx("input",{required:!0,type:"date",value:g,onChange:at=>v(at.target.value)})]}),tt.jsx("br",{}),tt.jsxs("label",{children:["  ():",tt.jsx("input",{required:!0,type:"number",min:"1",value:_,onChange:at=>A(at.target.value)})]}),tt.jsx("br",{}),tt.jsxs("label",{children:[" :",tt.jsx("input",{value:$,readOnly:!0})]}),tt.jsx("br",{}),tt.jsx("button",{type:"submit",disabled:I,children:I?" ...":""}),j&&tt.jsx("div",{style:{color:"red"},children:j})]})}function Ub({refresh:s,onSelectClient:e}){const[i,a]=pe.useState([]),[u,h]=pe.useState(!0);async function d(){h(!0);const g=await Db(Bv($o,"clients"));a(g.docs.map(v=>({id:v.id,...v.data()}))),h(!1)}return pe.useEffect(()=>{d()},[s]),tt.jsxs("div",{style:{direction:"rtl",maxWidth:700,margin:"auto"},children:[tt.jsx("h2",{children:"  "}),u?tt.jsx("p",{children:" ..."}):tt.jsxs("table",{border:"1",cellPadding:"8",style:{width:"100%",textAlign:"center"},children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{children:" "}),tt.jsx("th",{children:" "}),tt.jsx("th",{children:" "}),tt.jsx("th",{children:" "}),tt.jsx("th",{children:" "}),tt.jsx("th",{children:"  ()"}),tt.jsx("th",{children:""})]})}),tt.jsx("tbody",{children:i.map(g=>tt.jsxs("tr",{children:[tt.jsx("td",{children:g.name}),tt.jsx("td",{children:g.phone}),tt.jsx("td",{children:g.type}),tt.jsx("td",{children:g.startDate}),tt.jsx("td",{children:g.endDate}),tt.jsx("td",{children:g.duration}),tt.jsx("td",{children:tt.jsx("button",{onClick:()=>e(g.id),children:""})})]},g.id))})]})]})}function Lb({clientId:s,onBack:e}){const[i,a]=pe.useState(null),[u,h]=pe.useState(!0),[d,g]=pe.useState(!1);pe.useEffect(()=>{async function _(){h(!0);const A=Kf($o,"clients",s),I=await Cb(A);a(I.exists()?{id:I.id,...I.data()}:null),h(!1)}_()},[s]);async function v(){window.confirm("      ")&&(await Vb(Kf($o,"clients",s)),g(!0))}return d?tt.jsxs("div",{style:{direction:"rtl",textAlign:"center"},children:[tt.jsx("h2",{children:"   "}),tt.jsx("button",{onClick:e,children:""})]}):u?tt.jsx("p",{style:{direction:"rtl"},children:" ..."}):i?tt.jsxs("div",{style:{direction:"rtl",maxWidth:400,margin:"auto",background:"#fff",padding:24,borderRadius:16,boxShadow:"0 2px 16px #0001"},children:[tt.jsx("h2",{children:" "}),tt.jsxs("p",{children:[tt.jsx("b",{children:":"})," ",i.name]}),tt.jsxs("p",{children:[tt.jsx("b",{children:" :"})," ",i.phone]}),tt.jsxs("p",{children:[tt.jsx("b",{children:" :"})," ",i.type]}),tt.jsxs("p",{children:[tt.jsx("b",{children:" :"})," ",i.startDate]}),tt.jsxs("p",{children:[tt.jsx("b",{children:" :"})," ",i.endDate]}),tt.jsxs("p",{children:[tt.jsx("b",{children:" :"})," ",i.duration," "]}),tt.jsx("button",{onClick:e,style:{marginLeft:8},children:""}),tt.jsx("button",{onClick:v,style:{background:"#ff4f4f",color:"#fff"},children:" "})]}):tt.jsx("p",{style:{direction:"rtl"},children:"  "})}function zb(){const s=pe.useRef();return pe.useEffect(()=>{const e=s.current,i=e.getContext("2d");let a=window.innerWidth,u=window.innerHeight,h;e.width=a,e.height=u;let d=[];const g=80;for(let C=0;C<g;C++)d.push({x:Math.random()*a,y:Math.random()*u,vx:(Math.random()-.5)*.7,vy:(Math.random()-.5)*.7});function v(){i.clearRect(0,0,a,u);for(let C=0;C<g;C++)for(let j=C+1;j<g;j++){const Z=d[C].x-d[j].x,it=d[C].y-d[j].y;Math.sqrt(Z*Z+it*it)<160&&(i.strokeStyle="rgba(255,0,80,0.15)",i.lineWidth=1,i.beginPath(),i.moveTo(d[C].x,d[C].y),i.lineTo(d[j].x,d[j].y),i.stroke())}for(let C=0;C<g;C++)i.beginPath(),i.arc(d[C].x,d[C].y,2,0,2*Math.PI),i.fillStyle="#ff0050",i.fill()}function _(){for(let C=0;C<g;C++)d[C].x+=d[C].vx,d[C].y+=d[C].vy,(d[C].x<0||d[C].x>a)&&(d[C].vx*=-1),(d[C].y<0||d[C].y>u)&&(d[C].vy*=-1)}function A(){_(),v(),h=requestAnimationFrame(A)}A();function I(){a=window.innerWidth,u=window.innerHeight,e.width=a,e.height=u}return window.addEventListener("resize",I),()=>{cancelAnimationFrame(h),window.removeEventListener("resize",I)}},[]),tt.jsx("canvas",{ref:s,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,background:"#10101a"}})}function Bb(){const[s,e]=pe.useState(0),[i,a]=pe.useState("add"),[u,h]=pe.useState(null);return tt.jsxs(tt.Fragment,{children:[tt.jsx(zb,{}),tt.jsxs("div",{style:{position:"relative",zIndex:1,fontFamily:"Tajawal, Arial, sans-serif",background:"none",minHeight:"100vh",padding:20},children:[tt.jsx("h1",{style:{textAlign:"center",marginBottom:32,color:"#ff0050"},children:"    "}),tt.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:16,marginBottom:32},children:[tt.jsx("button",{onClick:()=>{a("add"),h(null)},style:{background:i==="add"?"#4f8cff":"#e3e6ed",color:i==="add"?"#fff":"#2d3a4b",fontWeight:"bold"},children:"  "}),tt.jsx("button",{onClick:()=>{a("list"),h(null)},style:{background:i==="list"?"#4f8cff":"#e3e6ed",color:i==="list"?"#fff":"#2d3a4b",fontWeight:"bold"},children:" "})]}),i==="add"&&tt.jsx(xb,{onClientAdded:()=>e(d=>d+1)}),i==="list"&&!u&&tt.jsx(Ub,{refresh:s,onSelectClient:d=>h(d)}),i==="list"&&u&&tt.jsx(Lb,{clientId:u,onBack:()=>h(null)})]})]})}IE.createRoot(document.getElementById("root")).render(tt.jsx(pe.StrictMode,{children:tt.jsx(Bb,{})}));
